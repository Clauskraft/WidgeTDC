import{r as c,j as e}from"./ui-d27jHJxv.js";import{u as L}from"./index-D3cQhnRP.js";import{B as U}from"./Button-CUGYQXiP.js";import{u as $}from"./useWidgetSync-PcBW9nb4.js";import"./vendor-BerfLJhL.js";import"./grid-B9N6NCa2.js";import"./useMCP-C6vkw6pp.js";const G=[{id:"openai",name:"OpenAI",logo:"ðŸ¤–",status:"active",apiKeyConfigured:!0,models:[{id:"gpt-4-turbo",providerId:"openai",name:"gpt-4-turbo",displayName:"GPT-4 Turbo",description:"Most capable GPT-4 model, optimized for speed",capabilities:["chat","completion","vision","function-calling"],contextWindow:128e3,maxOutputTokens:4096,costPer1kInputTokens:.01,costPer1kOutputTokens:.03,latencyMs:450,qualityScore:95},{id:"gpt-4o",providerId:"openai",name:"gpt-4o",displayName:"GPT-4o",description:"Multimodal model with vision and audio",capabilities:["chat","completion","vision","function-calling"],contextWindow:128e3,maxOutputTokens:4096,costPer1kInputTokens:.005,costPer1kOutputTokens:.015,latencyMs:300,qualityScore:94},{id:"gpt-4o-mini",providerId:"openai",name:"gpt-4o-mini",displayName:"GPT-4o Mini",description:"Affordable small model for fast tasks",capabilities:["chat","completion","vision","function-calling"],contextWindow:128e3,maxOutputTokens:16384,costPer1kInputTokens:15e-5,costPer1kOutputTokens:6e-4,latencyMs:150,qualityScore:82},{id:"gpt-3.5-turbo",providerId:"openai",name:"gpt-3.5-turbo",displayName:"GPT-3.5 Turbo",description:"Fast and cost-effective for simple tasks",capabilities:["chat","completion","function-calling"],contextWindow:16385,maxOutputTokens:4096,costPer1kInputTokens:5e-4,costPer1kOutputTokens:.0015,latencyMs:200,qualityScore:78}]},{id:"anthropic",name:"Anthropic",logo:"ðŸ§ ",status:"active",apiKeyConfigured:!0,models:[{id:"claude-3-5-sonnet",providerId:"anthropic",name:"claude-3-5-sonnet-latest",displayName:"Claude 3.5 Sonnet",description:"Best balance of intelligence and speed",capabilities:["chat","completion","vision","function-calling"],contextWindow:2e5,maxOutputTokens:8192,costPer1kInputTokens:.003,costPer1kOutputTokens:.015,latencyMs:350,qualityScore:96},{id:"claude-3-haiku",providerId:"anthropic",name:"claude-3-haiku",displayName:"Claude 3 Haiku",description:"Fastest, most compact model",capabilities:["chat","completion","vision"],contextWindow:2e5,maxOutputTokens:4096,costPer1kInputTokens:25e-5,costPer1kOutputTokens:.00125,latencyMs:150,qualityScore:80},{id:"claude-3-opus",providerId:"anthropic",name:"claude-3-opus",displayName:"Claude 3 Opus",description:"Most powerful for complex tasks",capabilities:["chat","completion","vision","function-calling"],contextWindow:2e5,maxOutputTokens:4096,costPer1kInputTokens:.015,costPer1kOutputTokens:.075,latencyMs:600,qualityScore:98}]},{id:"mistral",name:"Mistral AI",logo:"ðŸŒ€",status:"active",apiKeyConfigured:!0,models:[{id:"mistral-large",providerId:"mistral",name:"mistral-large-latest",displayName:"Mistral Large",description:"Top-tier reasoning capabilities",capabilities:["chat","completion","function-calling"],contextWindow:128e3,maxOutputTokens:4096,costPer1kInputTokens:.002,costPer1kOutputTokens:.006,latencyMs:280,qualityScore:88},{id:"mistral-small",providerId:"mistral",name:"mistral-small-latest",displayName:"Mistral Small",description:"Cost-efficient for simple tasks",capabilities:["chat","completion"],contextWindow:32e3,maxOutputTokens:4096,costPer1kInputTokens:2e-4,costPer1kOutputTokens:6e-4,latencyMs:150,qualityScore:75}]},{id:"meta",name:"Meta (Llama)",logo:"ðŸ¦™",status:"pending",apiKeyConfigured:!1,models:[{id:"llama-3-70b",providerId:"meta",name:"llama-3-70b",displayName:"Llama 3 70B",description:"Open-source large model",capabilities:["chat","completion"],contextWindow:8192,maxOutputTokens:2048,costPer1kInputTokens:7e-4,costPer1kOutputTokens:9e-4,latencyMs:300,qualityScore:85}]}],K=[{id:"rule-1",modelId:"gpt-4-turbo",status:"approved",isDefault:!0,allowedProjects:"all",maxBudgetPerMonth:5e3,requiresApproval:!1,usagePolicy:"Standard brugsregler gÃ¦lder",addedAt:"2024-01-15",addedBy:"admin@company.dk"},{id:"rule-2",modelId:"gpt-4o",status:"approved",isDefault:!1,allowedProjects:"all",maxBudgetPerMonth:3e3,requiresApproval:!1,usagePolicy:"Standard brugsregler gÃ¦lder",addedAt:"2024-02-01",addedBy:"admin@company.dk"},{id:"rule-3",modelId:"gpt-4o-mini",status:"approved",isDefault:!1,allowedProjects:"all",maxBudgetPerMonth:null,requiresApproval:!1,usagePolicy:"Ingen begrÃ¦nsninger",addedAt:"2024-03-01",addedBy:"admin@company.dk"},{id:"rule-4",modelId:"claude-3-5-sonnet",status:"approved",isDefault:!1,allowedProjects:"all",maxBudgetPerMonth:4e3,requiresApproval:!1,usagePolicy:"Standard brugsregler gÃ¦lder",addedAt:"2024-01-20",addedBy:"admin@company.dk"},{id:"rule-5",modelId:"claude-3-opus",status:"restricted",isDefault:!1,allowedProjects:["proj-1","proj-2"],maxBudgetPerMonth:1e3,requiresApproval:!0,usagePolicy:"Kun til komplekse opgaver. KrÃ¦ver godkendelse.",addedAt:"2024-02-15",addedBy:"admin@company.dk"},{id:"rule-6",modelId:"mistral-large",status:"approved",isDefault:!1,allowedProjects:"all",maxBudgetPerMonth:2e3,requiresApproval:!1,usagePolicy:"Standard brugsregler gÃ¦lder",addedAt:"2024-03-10",addedBy:"admin@company.dk"},{id:"rule-7",modelId:"llama-3-70b",status:"blocked",isDefault:!1,allowedProjects:[],maxBudgetPerMonth:null,requiresApproval:!1,usagePolicy:"Ikke tilgÃ¦ngelig - Provider ikke konfigureret",addedAt:"2024-03-15",addedBy:"system"}],T=[{id:"proj-1",name:"Kundeservice Portal"},{id:"proj-2",name:"Salgs Automation"},{id:"proj-3",name:"Intern Support"},{id:"proj-4",name:"Marketing AI"}],F=[{projectId:"proj-1",projectName:"Kundeservice Portal",allowedModels:["gpt-4-turbo","gpt-4o","claude-3-5-sonnet"],defaultModelId:"gpt-4-turbo",budgetLimit:2e3},{projectId:"proj-2",projectName:"Salgs Automation",allowedModels:["gpt-4-turbo","gpt-4o-mini","mistral-large"],defaultModelId:"gpt-4o-mini",budgetLimit:1500}],E=[{modelId:"gpt-4-turbo",totalRequests:45230,totalTokensUsed:125e5,totalCost:425.5,averageLatency:467,errorRate:.02,lastUsed:"2024-03-20T14:32:00Z"},{modelId:"gpt-4o",totalRequests:23450,totalTokensUsed:82e5,totalCost:165.2,averageLatency:312,errorRate:.01,lastUsed:"2024-03-20T14:30:00Z"},{modelId:"gpt-4o-mini",totalRequests:156e3,totalTokensUsed:42e6,totalCost:28.35,averageLatency:145,errorRate:.005,lastUsed:"2024-03-20T14:35:00Z"},{modelId:"claude-3-5-sonnet",totalRequests:18900,totalTokensUsed:95e5,totalCost:185,averageLatency:358,errorRate:.015,lastUsed:"2024-03-20T14:28:00Z"},{modelId:"mistral-large",totalRequests:8500,totalTokensUsed:32e5,totalCost:25.6,averageLatency:275,errorRate:.02,lastUsed:"2024-03-20T12:15:00Z"}],W=({status:l})=>{const x={active:{bg:"bg-green-500",label:"Aktiv"},inactive:{bg:"bg-gray-400",label:"Inaktiv"},pending:{bg:"bg-yellow-500",label:"Afventer"}}[l];return e.jsx("span",{className:`w-2 h-2 rounded-full ${x.bg}`,title:x.label})},M=({score:l})=>{const x=l>=90?"bg-green-500":l>=75?"bg-blue-500":l>=60?"bg-yellow-500":"bg-red-500";return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${x}`,style:{width:`${l}%`}})}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:l})]})},j=({amount:l,currency:x="$"})=>{const n=l>=1e3?`${(l/1e3).toFixed(1)}k`:l>=1?l.toFixed(2):l.toFixed(4);return e.jsxs("span",{className:"font-mono",children:[x,n]})},re=({widgetId:l})=>{var I;const{state:{user:x}}=L(),[n,N]=c.useState("overview"),[m,_]=c.useState(G),[u,k]=c.useState(K),[S,f]=c.useState(F),[g,Z]=c.useState(E),[Q,V]=c.useState(null),[z,H]=c.useState(!1),[w,C]=c.useState(new Set(["openai","anthropic"])),o=m.flatMap(t=>t.models),y=o.filter(t=>{const a=u.find(s=>s.modelId===t.id);return(a==null?void 0:a.status)==="approved"}),d=o.find(t=>u.find(a=>a.modelId===t.id&&a.isDefault)),p=u.reduce((t,a)=>t+(a.maxBudgetPerMonth||0),0),h=g.reduce((t,a)=>t+a.totalCost,0);$(l,{defaultModel:d==null?void 0:d.displayName,monthlySpend:h,monthlyBudget:p,spendPercentage:p>0?h/p*100:0,activeProviders:m.filter(t=>t.status==="active").map(t=>t.name),approvedModelsCount:y.length});const O=t=>{C(a=>{const s=new Set(a);return s.has(t)?s.delete(t):s.add(t),s})},R=t=>{k(a=>a.map(s=>({...s,isDefault:s.modelId===t})))},A=(t,a)=>{k(s=>s.map(r=>r.modelId===t?{...r,status:a}:r))},B=(t,a)=>{k(s=>s.map(r=>r.modelId===t?{...r,maxBudgetPerMonth:a}:r))},P=(t,a)=>{f(s=>s.map(r=>r.projectId===t?{...r,...a}:r))},q=t=>{const a=T.find(s=>s.id===t);a&&f(s=>[...s,{projectId:t,projectName:a.name,allowedModels:y.map(r=>r.id),defaultModelId:(d==null?void 0:d.id)||null,budgetLimit:null}])},D=t=>{f(a=>a.filter(s=>s.projectId!==t))};return e.jsxs("div",{className:"h-full flex flex-col -m-4 bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center text-white text-xl",children:"ðŸ›ï¸"}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-lg text-gray-900 dark:text-white",children:"Platform Model Governance"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Central styring af AI modeller og policies"})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"hidden md:flex items-center gap-6 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:y.length}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Godkendte"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-green-600 dark:text-green-400",children:["$",h.toFixed(0)]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"MTD Spend"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-blue-600 dark:text-blue-400",children:["$",p]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Budget"})]})]})})]}),e.jsx("div",{className:"flex items-center gap-1 mt-4 -mb-px",children:[{id:"overview",label:"ðŸ“Š Oversigt",icon:"ðŸ“Š"},{id:"models",label:"ðŸ¤– Modeller",icon:"ðŸ¤–"},{id:"projects",label:"ðŸ“ Projekter",icon:"ðŸ“"},{id:"usage",label:"ðŸ“ˆ Forbrug",icon:"ðŸ“ˆ"},{id:"settings",label:"âš™ï¸ Indstillinger",icon:"âš™ï¸"}].map(t=>e.jsx("button",{onClick:()=>N(t.id),className:`px-4 py-2 text-sm font-medium rounded-t-lg transition-colors ${n===t.id?"bg-gray-50 dark:bg-gray-900 text-blue-600 dark:text-blue-400 border border-gray-200 dark:border-gray-700 border-b-0":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:t.label},t.id))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[n==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ¤–"}),e.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 rounded-full",children:[m.filter(t=>t.status==="active").length," aktive"]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.length}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Totale modeller"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl",children:"âœ…"}),e.jsxs("span",{className:"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-full",children:[u.filter(t=>t.status==="restricted").length," begrÃ¦nsede"]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:y.length}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Godkendte modeller"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’°"}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${h/p>.8?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300":"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300"}`,children:[(h/p*100).toFixed(0),"% brugt"]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",h.toFixed(0)]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["af $",p," budget"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{className:"text-2xl",children:"ðŸŒŸ"})}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:(d==null?void 0:d.displayName)||"Ikke sat"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Platform default model"})]})]})]}),d&&e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-800",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-2xl",children:(I=m.find(t=>t.id===d.providerId))==null?void 0:I.logo}),e.jsx("h3",{className:"font-bold text-xl text-gray-900 dark:text-white",children:d.displayName}),e.jsx("span",{className:"px-2 py-1 text-xs bg-purple-500 text-white rounded-full",children:"Platform Default"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:d.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Context:"}),e.jsxs("span",{className:"ml-1 font-medium text-gray-900 dark:text-white",children:[(d.contextWindow/1e3).toFixed(0),"k tokens"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Latency:"}),e.jsxs("span",{className:"ml-1 font-medium text-gray-900 dark:text-white",children:[d.latencyMs,"ms"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Cost:"}),e.jsxs("span",{className:"ml-1 font-medium text-gray-900 dark:text-white",children:["$",d.costPer1kInputTokens,"/$",d.costPer1kOutputTokens," per 1k"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Quality:"}),e.jsx(M,{score:d.qualityScore})]})]})]}),e.jsx(U,{onClick:()=>N("models"),children:"Skift Default"})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Top Modeller (Denne MÃ¥ned)"})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:g.slice(0,5).sort((t,a)=>a.totalRequests-t.totalRequests).map(t=>{var s;const a=o.find(r=>r.id===t.modelId);return a?e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.displayName}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:(s=m.find(r=>r.id===a.providerId))==null?void 0:s.name})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{children:[t.totalRequests.toLocaleString()," requests"]}),e.jsx("span",{children:e.jsx(j,{amount:t.totalCost})}),e.jsxs("span",{children:[t.averageLatency,"ms avg"]})]})]}),e.jsx("div",{className:"w-32",children:e.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500",style:{width:`${t.totalRequests/Math.max(...g.map(r=>r.totalRequests))*100}%`}})})})]},t.modelId):null})})})]})]}),n==="models"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Administrer hvilke modeller der er tilgÃ¦ngelige pÃ¥ platformen"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Udvid alle"}),e.jsx("button",{className:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Kollaps alle"})]})]}),m.map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[e.jsxs("button",{onClick:()=>O(t.id),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:t.logo}),e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:t.name}),e.jsx(W,{status:t.status}),!t.apiKeyConfigured&&e.jsx("span",{className:"text-xs text-red-500",children:"API key mangler"})]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.models.length," modeller â€¢ ",t.models.filter(a=>{var s;return((s=u.find(r=>r.modelId===a.id))==null?void 0:s.status)==="approved"}).length," godkendte"]})]})]}),e.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${w.has(t.id)?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),w.has(t.id)&&e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Model"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Quality"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Cost/1k"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Budget"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Handlinger"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.models.map(a=>{const s=u.find(r=>r.modelId===a.id);return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.displayName}),(s==null?void 0:s.isDefault)&&e.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 rounded",children:"Default"})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:a.description}),e.jsx("div",{className:"flex gap-1 mt-1",children:a.capabilities.map(r=>e.jsx("span",{className:"px-1 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded",children:r},r))})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("select",{value:(s==null?void 0:s.status)||"blocked",onChange:r=>A(a.id,r.target.value),className:"text-xs px-2 py-1 rounded border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700",children:[e.jsx("option",{value:"approved",children:"âœ“ Godkendt"}),e.jsx("option",{value:"restricted",children:"âš  BegrÃ¦nset"}),e.jsx("option",{value:"blocked",children:"âœ• Blokeret"})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(M,{score:a.qualityScore})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"text-xs font-mono",children:[e.jsxs("div",{children:[e.jsx(j,{amount:a.costPer1kInputTokens})," in"]}),e.jsxs("div",{children:[e.jsx(j,{amount:a.costPer1kOutputTokens})," out"]})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"number",value:(s==null?void 0:s.maxBudgetPerMonth)||"",onChange:r=>B(a.id,r.target.value?parseInt(r.target.value):null),placeholder:"Ingen",className:"w-20 text-xs px-2 py-1 rounded border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700"})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsx("div",{className:"flex items-center justify-end gap-2",children:(s==null?void 0:s.status)==="approved"&&!s.isDefault&&e.jsx("button",{onClick:()=>R(a.id),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"SÃ¦t som default"})})})]},a.id)})})]})})]},t.id))]}),n==="projects"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Projekter nedarver platform defaults, men kan have egne overrides"})})}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4 border border-purple-200 dark:border-purple-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-lg",children:"ðŸ›ï¸"}),e.jsx("h4",{className:"font-semibold text-purple-900 dark:text-purple-100",children:"Platform Defaults"})]}),e.jsxs("div",{className:"text-sm text-purple-700 dark:text-purple-300",children:[e.jsxs("p",{children:["Default model: ",e.jsx("strong",{children:(d==null?void 0:d.displayName)||"Ikke sat"})]}),e.jsxs("p",{children:["Godkendte modeller: ",e.jsx("strong",{children:y.length})]}),e.jsx("p",{className:"text-xs mt-2 text-purple-600 dark:text-purple-400",children:"Projekter uden overrides bruger automatisk disse indstillinger"})]})]}),e.jsx("div",{className:"space-y-3",children:T.map(t=>{var r;const a=S.find(i=>i.projectId===t.id),s=!!a;return e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl border ${s?"border-blue-300 dark:border-blue-700":"border-gray-200 dark:border-gray-700"} overflow-hidden`,children:[e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"ðŸ“"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.name}),s?e.jsx("span",{className:"px-2 py-0.5 text-xs bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-full",children:"Custom"}):e.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full",children:"Nedarver defaults"})]}),s&&a&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Default: ",((r=o.find(i=>i.id===a.defaultModelId))==null?void 0:r.displayName)||"Platform default"," â€¢",a.allowedModels.length," modeller â€¢",a.budgetLimit?`$${a.budgetLimit} budget`:"Ingen budget"]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:s?e.jsx(e.Fragment,{children:e.jsx("button",{onClick:()=>D(t.id),className:"text-xs text-red-600 dark:text-red-400 hover:underline",children:"Fjern override"})}):e.jsx("button",{onClick:()=>q(t.id),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"TilfÃ¸j override"})})]}),s&&a&&e.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-700/30 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 block mb-1",children:"Projekt Default Model"}),e.jsxs("select",{value:a.defaultModelId||"",onChange:i=>P(t.id,{defaultModelId:i.target.value||null}),className:"w-full text-sm px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700",children:[e.jsx("option",{value:"",children:"Brug platform default"}),a.allowedModels.map(i=>{const b=o.find(v=>v.id===i);return b?e.jsx("option",{value:i,children:b.displayName},i):null})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 block mb-1",children:"Budget Limit ($/mÃ¥ned)"}),e.jsx("input",{type:"number",value:a.budgetLimit||"",onChange:i=>P(t.id,{budgetLimit:i.target.value?parseInt(i.target.value):null}),placeholder:"Ingen limit",className:"w-full text-sm px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 block mb-1",children:["Tilladte Modeller (",a.allowedModels.length,")"]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.allowedModels.slice(0,3).map(i=>{const b=o.find(v=>v.id===i);return b?e.jsx("span",{className:"px-2 py-0.5 text-xs bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded",children:b.displayName},i):null}),a.allowedModels.length>3&&e.jsxs("span",{className:"px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded",children:["+",a.allowedModels.length-3," mere"]})]})]})]})})]},t.id)})})]}),n==="usage"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Detaljeret Forbrug"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Model"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Requests"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Tokens"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Cost"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Avg Latency"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Error Rate"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Sidst Brugt"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:g.map(t=>{const a=o.find(r=>r.id===t.modelId),s=m.find(r=>r.id===(a==null?void 0:a.providerId));return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:s==null?void 0:s.logo}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(a==null?void 0:a.displayName)||t.modelId})]})}),e.jsx("td",{className:"px-4 py-3 text-right font-mono text-sm text-gray-900 dark:text-white",children:t.totalRequests.toLocaleString()}),e.jsxs("td",{className:"px-4 py-3 text-right font-mono text-sm text-gray-900 dark:text-white",children:[(t.totalTokensUsed/1e6).toFixed(1),"M"]}),e.jsx("td",{className:"px-4 py-3 text-right font-mono text-sm text-green-600 dark:text-green-400",children:e.jsx(j,{amount:t.totalCost})}),e.jsxs("td",{className:"px-4 py-3 text-right font-mono text-sm text-gray-900 dark:text-white",children:[t.averageLatency,"ms"]}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("span",{className:`font-mono text-sm ${t.errorRate>.05?"text-red-500":t.errorRate>.02?"text-yellow-500":"text-green-500"}`,children:[(t.errorRate*100).toFixed(2),"%"]})}),e.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-500 dark:text-gray-400",children:new Date(t.lastUsed).toLocaleString("da-DK")})]},t.modelId)})}),e.jsx("tfoot",{className:"bg-gray-50 dark:bg-gray-700/50 font-semibold",children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-gray-900 dark:text-white",children:"Total"}),e.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-900 dark:text-white",children:g.reduce((t,a)=>t+a.totalRequests,0).toLocaleString()}),e.jsxs("td",{className:"px-4 py-3 text-right font-mono text-gray-900 dark:text-white",children:[(g.reduce((t,a)=>t+a.totalTokensUsed,0)/1e6).toFixed(1),"M"]}),e.jsx("td",{className:"px-4 py-3 text-right font-mono text-green-600 dark:text-green-400",children:e.jsx(j,{amount:g.reduce((t,a)=>t+a.totalCost,0)})}),e.jsx("td",{colSpan:3})]})})]})})]})}),n==="settings"&&e.jsxs("div",{className:"max-w-2xl space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Globale Indstillinger"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-500 rounded"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"KrÃ¦v godkendelse for nye modeller"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nye modeller fra providers krÃ¦ver manuel godkendelse"})]})]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-500 rounded"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Automatisk budget alerts"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send notifikation ved 80% og 100% af budget"})]})]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-500 rounded"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Tillad projekt overrides"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Projekter kan vÃ¦lge andre modeller end platform default"})]})]})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Audit Log"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Alle Ã¦ndringer til governance regler logges automatisk"}),e.jsx("div",{className:"space-y-2",children:[{action:"Model godkendt",model:"GPT-4o Mini",user:"admin@company.dk",time:"2024-03-20 14:32"},{action:"Budget Ã¦ndret",model:"Claude 3.5 Sonnet",user:"admin@company.dk",time:"2024-03-19 10:15"},{action:"Default Ã¦ndret",model:"GPT-4 Turbo",user:"admin@company.dk",time:"2024-03-18 09:00"}].map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700 last:border-0",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.action}),e.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[" â€“ ",t.model]})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.user," â€¢ ",t.time]})]},a))})]})]})]})]})};export{re as default};
