import{r,j as e}from"./ui-d27jHJxv.js";import"./vendor-BerfLJhL.js";const j=()=>{const[t,c]=r.useState(null),[p,s]=r.useState(!1),[d,x]=r.useState("meeting"),[a,f]=r.useState(JSON.stringify({title:"Team Meeting",duration:30},null,2)),[l,g]=r.useState("low"),i=async()=>{s(!0);try{const o=await fetch("/api/mcp/route",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tool:"pal.board-action",payload:{},context:{userId:"user-1",orgId:"org-1"}})});if(o.ok){const n=await o.json();c({userId:"user-1",orgId:"org-1",boardAdjustments:n.boardAdjustments||[],reminders:n.aiRecommendations?[n.aiRecommendations]:[],focusWindow:null,profile:{preferenceTone:"supportive"}})}}catch(o){console.error("Failed to load recommendations:",o)}finally{s(!1)}};r.useEffect(()=>{i();const o=setInterval(i,3e4);return()=>clearInterval(o)},[]);const m=async()=>{try{const o=JSON.parse(a);await fetch("/api/mcp/route",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tool:"pal.event",payload:{eventType:d,payload:o,detectedStressLevel:l},context:{userId:"user-1",orgId:"org-1"}})}),i()}catch(o){console.error("Failed to record event:",o)}},u=o=>["","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][o]||"Unknown",h=o=>{switch(o){case"mute_notifications":return"";case"isolate_widget_view":return"";case"show_nudge":return"";default:return""}};return e.jsxs("div",{style:{padding:"20px",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#1a1a1a",color:"#ffffff"},children:[e.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"20px",fontWeight:"600"},children:"AI PAL - Your Personal Assistant"}),p?e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#888"},children:"Loading recommendations..."}):t?e.jsxs(e.Fragment,{children:[t.focusWindow&&e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#10b981",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"5px"},children:"Focus Time Active"}),e.jsxs("div",{style:{fontSize:"13px"},children:[u(t.focusWindow.weekday)," "," ",t.focusWindow.startHour,":00 - ",t.focusWindow.endHour,":00"]})]}),t.boardAdjustments.length>0&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"10px"},children:"Recommendations"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:t.boardAdjustments.map((o,n)=>e.jsxs("div",{style:{padding:"12px",backgroundColor:"#2a2a2a",borderRadius:"8px",borderLeft:"3px solid #3b82f6"},children:[e.jsxs("div",{style:{fontSize:"14px",marginBottom:"5px"},children:[h(o.actionType)," ",o.message]}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"10px"},children:[e.jsx("button",{style:{flex:1,padding:"8px",backgroundColor:"#10b981",color:"#ffffff",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:"Accept"}),e.jsx("button",{style:{flex:1,padding:"8px",backgroundColor:"#444",color:"#ffffff",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:"Ignore"})]})]},n))})]}),t.reminders.length>0&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"10px"},children:"Reminders"}),e.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"12px"},children:t.reminders.map((o,n)=>e.jsx("div",{style:{fontSize:"13px",marginBottom:n<t.reminders.length-1?"8px":0,paddingBottom:n<t.reminders.length-1?"8px":0,borderBottom:n<t.reminders.length-1?"1px solid #444":"none"},children:o},n))})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"10px"},children:"Profile"}),e.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"12px",fontSize:"13px"},children:["Tone: ",e.jsx("strong",{children:t.profile.preferenceTone})]})]}),e.jsxs("div",{style:{marginTop:"auto"},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"10px"},children:"Record Activity"}),e.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"12px"},children:[e.jsxs("div",{style:{marginBottom:"10px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"12px"},children:"Event Type"}),e.jsxs("select",{value:d,onChange:o=>x(o.target.value),style:{width:"100%",padding:"8px",backgroundColor:"#1a1a1a",border:"1px solid #444",borderRadius:"4px",color:"#ffffff",fontSize:"13px"},children:[e.jsx("option",{value:"meeting",children:"Meeting"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"mcp_alert",children:"MCP Alert"}),e.jsx("option",{value:"deadline",children:"Deadline"})]})]}),e.jsxs("div",{style:{marginBottom:"10px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"12px"},children:"Stress Level"}),e.jsxs("select",{value:l,onChange:o=>g(o.target.value),style:{width:"100%",padding:"8px",backgroundColor:"#1a1a1a",border:"1px solid #444",borderRadius:"4px",color:"#ffffff",fontSize:"13px"},children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]}),e.jsxs("div",{style:{marginBottom:"10px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"12px"},children:"Event Data (JSON)"}),e.jsx("textarea",{value:a,onChange:o=>f(o.target.value),style:{width:"100%",minHeight:"60px",padding:"8px",backgroundColor:"#1a1a1a",border:"1px solid #444",borderRadius:"4px",color:"#ffffff",fontSize:"12px",fontFamily:"monospace",resize:"vertical"}})]}),e.jsx("button",{onClick:m,style:{width:"100%",padding:"10px",backgroundColor:"#8b5cf6",color:"#ffffff",border:"none",borderRadius:"4px",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:"Record Event"})]})]})]}):e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#888"},children:"No recommendations available"})]})};export{j as default};
