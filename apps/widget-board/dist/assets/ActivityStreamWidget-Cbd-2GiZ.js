import{j as e}from"./index-DZEoTVC4.js";import{r as t,C as x,P as f,a as N}from"./ui-DyG0g13d.js";import{M as C}from"./MatrixWidgetWrapper-mghho8C4.js";import"./vendor-Cv91Oj79.js";import"./graph-i8PIyU_l.js";import"./grid-BAREo1Ej.js";const v=[{id:"evt-1101",title:"Critical credential dump ingested",description:"Dark web feed normalized 1.2k new credentials.",category:"alert",severity:"critical",source:"Feed Ingestion",rule:"critical-credential-dump",timestamp:"2025-11-18T08:18:00Z",acknowledged:!1,channel:"SSE"},{id:"evt-1098",title:"Vendor advisory indexed",description:"Vendor Radar pushed CVE-2025-1123 advisory.",category:"ingestion",severity:"high",source:"Vendor Radar",rule:"vendor-critical",timestamp:"2025-11-18T08:12:00Z",acknowledged:!1,channel:"Job"}],D={low:"text-emerald-400 bg-emerald-500/10 border-emerald-500/20",medium:"text-amber-400 bg-amber-500/10 border-amber-500/20",high:"text-orange-400 bg-orange-500/10 border-orange-500/20",critical:"text-red-400 bg-red-500/10 border-red-500/20"},E=()=>{const[n,c]=t.useState(v),[d,u]=t.useState("all"),[s,g]=t.useState(!0),[o,b]=t.useState(!1),m=t.useRef([]);t.useEffect(()=>{const i=setInterval(()=>{s&&m.current.length>0&&c(a=>[m.current.shift(),...a].slice(0,50))},2e3);return b(!0),()=>clearInterval(i)},[s]);const r=t.useMemo(()=>n.filter(i=>d==="all"||i.severity===d),[n,d]),p=i=>{c(a=>a.map(l=>l.id===i?{...l,acknowledged:!0}:l))};return e.jsxDEV(C,{title:"Activity Stream",controls:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("select",{value:d,onChange:i=>u(i.target.value),className:"bg-black/20 border border-white/10 text-[10px] rounded px-1 py-0.5 text-gray-300 focus:outline-none",children:[e.jsxDEV("option",{value:"all",children:"All Events"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:95,columnNumber:21},void 0),e.jsxDEV("option",{value:"critical",children:"Critical"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:96,columnNumber:21},void 0),e.jsxDEV("option",{value:"high",children:"High"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:97,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:90,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>g(!s),className:`p-1 rounded hover:bg-white/10 ${s?"text-green-400":"text-gray-500"}`,children:s?e.jsxDEV(f,{size:12},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:103,columnNumber:33},void 0):e.jsxDEV(N,{size:12},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:103,columnNumber:55},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:99,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:89,columnNumber:13},void 0),children:e.jsxDEV("div",{className:"flex flex-col h-full gap-2",children:[e.jsxDEV("div",{className:"flex items-center justify-between text-[10px] text-gray-500 px-1",children:[e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("div",{className:`w-1.5 h-1.5 rounded-full ${o?"bg-green-400 animate-pulse":"bg-red-400"}`},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:112,columnNumber:17},void 0),o?"LIVE FEED ACTIVE":"FEED DISCONNECTED"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:111,columnNumber:13},void 0),e.jsxDEV("span",{children:[r.length," events"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:115,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:110,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto space-y-2 custom-scrollbar pr-1",children:[r.map(i=>e.jsxDEV("div",{className:`p-3 rounded-lg border bg-white/5 hover:bg-white/10 transition-all ${i.acknowledged?"opacity-50 border-white/5":"border-white/10"}`,children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-1",children:[e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("span",{className:"text-xs font-medium text-gray-200",children:i.title},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:127,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-[10px] text-gray-500",children:[new Date(i.timestamp).toLocaleTimeString()," â€¢ ",i.source]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:128,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:126,columnNumber:25},void 0),e.jsxDEV("span",{className:`text-[9px] px-1.5 py-0.5 rounded uppercase font-bold border ${D[i.severity]}`,children:i.severity},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:130,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:125,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-[11px] text-gray-400 leading-relaxed mb-2",children:i.description},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:134,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-[9px] text-gray-600 font-mono",children:i.rule},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:136,columnNumber:25},void 0),!i.acknowledged&&e.jsxDEV("button",{onClick:()=>p(i.id),className:"text-[10px] flex items-center gap-1 text-[#00B5CB] hover:text-white transition-colors",children:[e.jsxDEV(x,{size:10},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:142,columnNumber:33},void 0)," Acknowledge"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:138,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:135,columnNumber:21},void 0)]},i.id,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:121,columnNumber:17},void 0)),r.length===0&&e.jsxDEV("div",{className:"text-center py-8 text-gray-500 text-xs",children:"No events matching filter"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:149,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:119,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:108,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ActivityStreamWidget.tsx",lineNumber:86,columnNumber:5},void 0)};export{E as default};
