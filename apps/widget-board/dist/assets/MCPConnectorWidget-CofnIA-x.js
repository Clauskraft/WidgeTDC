import{j as e}from"./index-DZEoTVC4.js";import{r as o}from"./ui-DyG0g13d.js";import{B as g}from"./Button-D2-36h54.js";import"./vendor-Cv91Oj79.js";import"./graph-i8PIyU_l.js";import"./grid-BAREo1Ej.js";const h={Close:()=>e.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:e.jsxDEV("path",{d:"M14.7 2.7c.4-.4.4-1 0-1.4s-1-.4-1.4 0L8 6.6 2.7 1.3c-.4-.4-1-.4-1.4 0s-.4 1 0 1.4L6.6 8l-5.3 5.3c-.4.4-.4 1 0 1.4.2.2.5.3.7.3s.5-.1.7-.3L8 9.4l5.3 5.3c.2.2.5.3.7.3s.5-.1.7-.3c.4-.4.4-1 0-1.4L9.4 8l5.3-5.3z"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/assets/MicrosoftIcons.tsx",lineNumber:7,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/assets/MicrosoftIcons.tsx",lineNumber:6,columnNumber:5},void 0)},v=r=>e.jsxDEV("svg",{...r,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7a8 8 0 0116 0"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:7,columnNumber:162},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:7,columnNumber:57},void 0),y=r=>e.jsxDEV("svg",{...r,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:8,columnNumber:157},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:8,columnNumber:52},void 0),M=r=>e.jsxDEV("svg",{...r,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:9,columnNumber:158},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:9,columnNumber:53},void 0),V=({status:r})=>{const d={connected:{color:"bg-green-500",text:"Forbundet"},disconnected:{color:"bg-gray-400",text:"Afbrudt"},error:{color:"bg-red-500",text:"Fejl"},testing:{color:"bg-yellow-500 animate-pulse",text:"Tester..."}};return e.jsxDEV("div",{className:"flex items-center gap-2 text-xs font-medium",children:[e.jsxDEV("div",{className:`w-2.5 h-2.5 rounded-full ${d[r].color}`},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:17,columnNumber:73},void 0),e.jsxDEV("span",{children:d[r].text},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:17,columnNumber:146},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:17,columnNumber:12},void 0)},x=[{id:"postgresql",name:"PostgreSQL",category:"Database",icon:v,fields:[{name:"host",label:"Host",type:"text",placeholder:"f.eks. localhost",required:!0},{name:"port",label:"Port",type:"number",placeholder:"5432",required:!0},{name:"database",label:"Database",type:"text",placeholder:"mydatabase",required:!0},{name:"user",label:"Bruger",type:"text",placeholder:"admin",required:!0},{name:"password",label:"Adgangskode",type:"password",placeholder:"••••••••",required:!0}]},{id:"rest_api",name:"REST API",category:"API",icon:y,fields:[{name:"base_url",label:"Base URL",type:"text",placeholder:"https://api.example.com",required:!0},{name:"api_key",label:"API Nøgle",type:"password",placeholder:"Indsæt din API nøgle",required:!1}]},{id:"csv_upload",name:"CSV Fil",category:"File",icon:M,fields:[{name:"file_path",label:"Filsti",type:"text",placeholder:"/path/to/your/file.csv",required:!0}]}],L=()=>{const[r,d]=o.useState("list"),[m,C]=o.useState([]),[n,b]=o.useState(null),[a,c]=o.useState({}),[l,u]=o.useState("idle"),p=s=>{b(s),c({name:`${s.name} Forbindelse`}),u("idle"),d("configure")},f=()=>{b(null),c({}),d(r==="configure"?"select_source":"list")},N=s=>{c(t=>({...t,[s.target.name]:s.target.value}))},D=async()=>{u("testing"),await new Promise(t=>setTimeout(t,1500));const s=Math.random()>.3;u(s?"success":"error")},W=()=>{if(!n)return;const s={id:`conn-${Date.now()}`,name:a.name||"Unavngiven Forbindelse",dataSourceId:n.id,status:"connected",config:{...a}};C(t=>[...t,s]),d("list")},w=s=>{C(t=>t.filter(i=>i.id!==s))},T=()=>e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(g,{onClick:()=>d("select_source"),className:"w-full",children:"Opret Ny Forbindelse"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:94,columnNumber:13},void 0),m.length>0?m.map(s=>{const t=x.find(i=>i.id===s.dataSourceId);return e.jsxDEV("div",{className:"p-3 flex items-center justify-between rounded-lg bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-700",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[t&&e.jsxDEV(t.icon,{className:"w-6 h-6 text-gray-500"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:100,columnNumber:40},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-semibold",children:s.name},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:102,columnNumber:33},void 0),e.jsxDEV(V,{status:s.status},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:103,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:101,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:99,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>w(s.id),className:"ms-icon-button ms-focusable w-6 h-6 text-gray-500 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400",title:"Slet forbindelse",children:e.jsxDEV(h.Close,{},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:111,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:106,columnNumber:25},void 0)]},s.id,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:98,columnNumber:21},void 0)}):e.jsxDEV("p",{className:"text-center text-gray-500 py-4",children:"Ingen forbindelser oprettet."},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:115,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:93,columnNumber:9},void 0),j=()=>e.jsxDEV("div",{children:[e.jsxDEV("button",{onClick:f,className:"ms-focusable text-sm mb-4",children:"← Tilbage"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:121,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:x.map(s=>e.jsxDEV("div",{onClick:()=>p(s),onKeyDown:t=>{(t.key===" "||t.key==="Enter")&&p(s)},tabIndex:0,className:"ms-focusable p-4 flex flex-col items-center justify-center gap-2 rounded-lg border-2 border-gray-200 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500 cursor-pointer transition-colors",children:[e.jsxDEV(s.icon,{className:"w-10 h-10 text-gray-600 dark:text-gray-300"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:131,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-semibold text-center",children:s.name},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:132,columnNumber:25},void 0)]},s.id,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:124,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:122,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:120,columnNumber:9},void 0),P=()=>{if(!n)return null;const s={idle:"bg-gray-500 hover:bg-gray-600",testing:"bg-yellow-500 cursor-wait",success:"bg-green-500",error:"bg-red-500"},t={idle:"Test Forbindelse",testing:"Tester...",success:"Succes!",error:"Fejl - Prøv igen"};return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("button",{onClick:f,className:"ms-focusable text-sm mb-2",children:"← Tilbage til valg"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:151,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(n.icon,{className:"w-8 h-8 text-gray-600 dark:text-gray-300"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:153,columnNumber:21},void 0),e.jsxDEV("h3",{className:"text-xl font-bold",children:["Konfigurer ",n.name]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:154,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:152,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",name:"name",value:a.name||"",onChange:N,placeholder:"Navn på forbindelse",className:"ms-focusable w-full p-2 rounded-lg border bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:156,columnNumber:17},void 0),n.fields.map(i=>e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium",children:[i.label,i.required&&"*"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:159,columnNumber:25},void 0),e.jsxDEV("input",{name:i.name,type:i.type,placeholder:i.placeholder,value:a[i.name]||"",onChange:N,required:i.required,className:"ms-focusable w-full mt-1 p-2 rounded-lg border bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:160,columnNumber:25},void 0)]},i.name,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:158,columnNumber:21},void 0)),e.jsxDEV("div",{className:"flex gap-2 pt-2",children:[e.jsxDEV(g,{onClick:D,disabled:l==="testing",variant:"subtle",className:`flex-1 text-white ${s[l]}`,children:t[l]},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:164,columnNumber:21},void 0),e.jsxDEV(g,{onClick:W,disabled:l!=="success",className:"flex-1",children:"Gem Forbindelse"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:172,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:163,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:150,columnNumber:13},void 0)};return e.jsxDEV("div",{className:"h-full -m-4 p-4",children:[r==="list"&&T(),r==="select_source"&&j(),r==="configure"&&P()]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/MCPConnectorWidget.tsx",lineNumber:181,columnNumber:9},void 0)};export{L as default};
