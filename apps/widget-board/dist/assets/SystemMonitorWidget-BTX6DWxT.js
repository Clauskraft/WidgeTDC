import{j as e}from"./index-DZEoTVC4.js";import{r as d,Y as x,_ as N,A as b,R as f}from"./ui-DyG0g13d.js";import{M as C}from"./MatrixWidgetWrapper-mghho8C4.js";import"./vendor-Cv91Oj79.js";import"./graph-i8PIyU_l.js";import"./grid-BAREo1Ej.js";const y=()=>{const[a,l]=d.useState([]),[i,n]=d.useState(null),[g,u]=d.useState(!0),[D,m]=d.useState(null),r=d.useCallback(async()=>{u(!0);try{const[t,s]=await Promise.all([fetch("http://localhost:3001/api/sys/processes").catch(()=>null),fetch("http://localhost:3001/api/sys/system").catch(()=>null)]);if(!t||!s)throw new Error("Backend connection failed");if(!t.ok||!s.ok)throw new Error("Failed to fetch system data");const o=await t.json(),p=await s.json();l(o),n(p),m(null)}catch(t){m(t instanceof Error?t.message:"Unknown error"),n({cpu:{manufacturer:"Intel",brand:"Core i9-12900K",cores:16,physicalCores:8,speed:3.2,temperature:45},memory:{total:34359738368,used:16234982342,available:18124756026,usedPercent:47.2},load:{avgLoad:1.2,currentLoad:12.5,currentLoadUser:8.2,currentLoadSystem:4.3}}),l([{name:"node.exe",cpu:4.2,mem:120,pid:1234},{name:"electron.exe",cpu:2.1,mem:450,pid:5678},{name:"chrome.exe",cpu:1.8,mem:800,pid:9012}])}finally{u(!1)}},[]);d.useEffect(()=>{r();const t=setInterval(r,5e3);return()=>clearInterval(t)},[r]);const c=t=>{const s=["B","KB","MB","GB","TB"];if(t===0)return"0 B";const o=Math.floor(Math.log(t)/Math.log(1024));return Math.round(t/Math.pow(1024,o)*100)/100+" "+s[o]};return e.jsxDEV(C,{title:"System Monitor",isLoading:g&&!i,controls:e.jsxDEV("button",{onClick:r,className:"p-1 text-gray-400 hover:text-[#00B5CB] transition-colors",children:e.jsxDEV(f,{size:14},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:101,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:100,columnNumber:9},void 0),children:e.jsxDEV("div",{className:"flex flex-col gap-4",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("div",{className:"bg-white/5 border border-white/10 rounded-xl p-3 relative overflow-hidden group",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 p-2 opacity-20 group-hover:opacity-40 transition-opacity",children:e.jsxDEV(x,{size:32,className:"text-[#00B5CB]"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:111,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:110,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-[10px] font-medium text-gray-400 mb-1 tracking-wider",children:"CPU LOAD"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:113,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xl font-bold text-white flex items-baseline gap-1",children:[i==null?void 0:i.load.currentLoad.toFixed(1),e.jsxDEV("span",{className:"text-sm font-normal text-[#00B5CB]",children:"%"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:116,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:114,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 mt-2 text-[10px] text-gray-500",children:[e.jsxDEV(N,{size:10},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:119,columnNumber:15},void 0),i!=null&&i.cpu.temperature?`${i.cpu.temperature}°C`:"45°C"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:118,columnNumber:13},void 0),e.jsxDEV("div",{className:"mt-2 h-1 bg-white/10 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-[#00B5CB] transition-all duration-500",style:{width:`${(i==null?void 0:i.load.currentLoad)||0}%`}},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:124,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:123,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:109,columnNumber:11},void 0),e.jsxDEV("div",{className:"bg-white/5 border border-white/10 rounded-xl p-3 relative overflow-hidden group",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 p-2 opacity-20 group-hover:opacity-40 transition-opacity",children:e.jsxDEV(b,{size:32,className:"text-purple-400"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:134,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:133,columnNumber:14},void 0),e.jsxDEV("div",{className:"text-[10px] font-medium text-gray-400 mb-1 tracking-wider",children:"MEMORY"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:136,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xl font-bold text-white flex items-baseline gap-1",children:[i==null?void 0:i.memory.usedPercent.toFixed(1),e.jsxDEV("span",{className:"text-sm font-normal text-purple-400",children:"%"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:139,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:137,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 mt-2 text-[10px] text-gray-500",children:[c((i==null?void 0:i.memory.used)||0)," / ",c((i==null?void 0:i.memory.total)||0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:141,columnNumber:13},void 0),e.jsxDEV("div",{className:"mt-2 h-1 bg-white/10 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-purple-400 transition-all duration-500",style:{width:`${(i==null?void 0:i.memory.usedPercent)||0}%`}},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:146,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:145,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:132,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:107,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[e.jsxDEV("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider",children:"Top Processes"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:157,columnNumber:14},void 0),e.jsxDEV("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider",children:"CPU"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:158,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:156,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col gap-1",children:[a.map((t,s)=>e.jsxDEV("div",{className:"flex justify-between items-center py-1.5 px-2 rounded hover:bg-white/5 transition-colors group",children:[e.jsxDEV("div",{className:"flex items-center gap-2 overflow-hidden",children:[e.jsxDEV("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-600 group-hover:bg-[#00B5CB] transition-colors"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:168,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-xs text-gray-300 font-mono truncate",children:t.name},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:169,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:167,columnNumber:17},void 0),e.jsxDEV("div",{className:`text-xs font-medium font-mono ${t.cpu>10?"text-red-400":t.cpu>5?"text-yellow-400":"text-gray-400"}`,children:[t.cpu,"%"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:171,columnNumber:17},void 0)]},`${t.pid}-${s}`,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:163,columnNumber:15},void 0)),a.length===0&&e.jsxDEV("div",{className:"text-center py-4 text-xs text-gray-500 italic",children:"No active processes found"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:179,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:161,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:155,columnNumber:9},void 0),i&&e.jsxDEV("div",{className:"mt-auto pt-3 border-t border-white/5",children:e.jsxDEV("div",{className:"flex justify-between text-[10px] text-gray-500",children:[e.jsxDEV("span",{children:i.cpu.brand},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:188,columnNumber:16},void 0),e.jsxDEV("span",{children:[i.cpu.cores," Cores"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:189,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:187,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:186,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:105,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SystemMonitorWidget.tsx",lineNumber:96,columnNumber:5},void 0)};export{y as default};
