import{j as e}from"./index-DZEoTVC4.js";import{r as t}from"./ui-DyG0g13d.js";import{B as f}from"./Button-D2-36h54.js";import"./vendor-Cv91Oj79.js";import"./graph-i8PIyU_l.js";import"./grid-BAREo1Ej.js";const q=typeof window<"u"?window.location.origin:"http://localhost:3001",M=q;async function x(r,l){const a=await fetch(`${M}${r}`,{headers:{"Content-Type":"application/json",...l==null?void 0:l.headers},...l});if(!a.ok)throw new Error(`Security API error ${a.status}`);return a.json()}async function $(){return x("/api/security/search/templates")}async function F(r=6){return x(`/api/security/search/history?limit=${r}`)}async function O(r){return x("/api/security/search/query",{method:"POST",body:JSON.stringify(r)})}const B=[{id:"tpl-high-severity",name:"High fidelity alerts",description:"Critical events touching finance or executive accounts within 24h.",query:"credential leak finance exec",severity:"critical",timeframe:"24h",sources:["Dark Web","Feed Ingestion"]},{id:"tpl-zero-day",name:"Zero-day exploitation",description:"Vendor advisories mentioning active exploitation or PoC for CVEs.",query:"zero-day vendor advisory exploitation",severity:"medium",timeframe:"7d",sources:["Vendor Radar","CERT-EU"]},{id:"tpl-supply-chain",name:"Supply chain monitoring",description:"Events referencing suppliers or 3rd party SaaS incidents.",query:"supplier breach SaaS incident",severity:"all",timeframe:"30d",sources:["Feed Ingestion","Internal Telemetry"]}],z=[{id:"sr-4031",title:"Dark web actor selling finance leadership credentials",summary:"Marketplace listing with 24 unique accounts incl. CFO and procurement lead.",source:"Feed Ingestion",severity:"critical",timestamp:"2025-11-18T08:18:00Z",tags:["credentials","darkweb","finance"],score:.92},{id:"sr-4024",title:"CVE-2025-1123 exploited in procurement SaaS tenant",summary:"Vendor confirms active exploitation with SQL injection payload hitting EU tenants.",source:"Vendor Radar",severity:"high",timestamp:"2025-11-18T07:58:00Z",tags:["cve-2025-1123","procurement","sql injection"],score:.84},{id:"sr-3988",title:"Suspicious OAuth consent for executive mailbox",summary:"Detected via internal telemetry, unrecognized app requested mail.read and offline_access.",source:"Internal Telemetry",severity:"medium",timestamp:"2025-11-18T07:40:00Z",tags:["oauth","mailbox","delegated access"],score:.79},{id:"sr-3921",title:"Supplier hosting provider outage",summary:"OSINT chatter indicates ransomware event at Tier-2 supplier datacenter.",source:"Feed Ingestion",severity:"high",timestamp:"2025-11-18T06:55:00Z",tags:["supply-chain","ransomware"],score:.73}],p={latencyMs:182,totalDocs:126e3,coverage:.87},_=["Feed Ingestion","Dark Web","Vendor Radar","CERT-EU","Internal Telemetry"],H={low:"bg-emerald-100 text-emerald-700 border-emerald-200",medium:"bg-amber-100 text-amber-700 border-amber-200",high:"bg-orange-100 text-orange-700 border-orange-200",critical:"bg-rose-100 text-rose-700 border-rose-200"},Q=r=>r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),se=()=>{const[r,l]=t.useState(""),[a,h]=t.useState("all"),[o,C]=t.useState("24h"),[u,D]=t.useState(["Feed Ingestion","Dark Web"]),[U,V]=t.useState(B),[m,P]=t.useState(z.slice(0,3)),[g,k]=t.useState(p),[W,b]=t.useState([]),[w,T]=t.useState(!1),[j,v]=t.useState(null),[S,E]=t.useState(null);t.useEffect(()=>{let s=!1;return(async()=>{var i,n;try{const[d,c]=await Promise.all([$(),F(6)]);if(s)return;(i=d.templates)!=null&&i.length&&V(d.templates),(n=c.history)!=null&&n.length&&b(c.history),E(null)}catch(d){console.warn("Security search bootstrap failed",d),s||E("Security services offline; showing cached templates.")}})(),()=>{s=!0}},[]);const y=t.useMemo(()=>r.trim().split(/\s+/).filter(Boolean),[r]),I=s=>{if(y.length===0)return s;const i=new RegExp(`(${y.map(Q).join("|")})`,"gi");return s.split(i).map((d,c)=>d===""?null:c%2===1?e.jsxDEV("mark",{className:"bg-amber-200 text-amber-900 rounded px-0.5",children:d},`${d}-${c}`,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:197,columnNumber:9},void 0):e.jsxDEV(t.Fragment,{children:d},`${d}-${c}`,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:201,columnNumber:9},void 0))},L=s=>{D(i=>i.includes(s)?i.filter(n=>n!==s):[...i,s])},A=s=>{l(s.query),h(s.severity),C(s.timeframe),D(s.sources)},R=t.useCallback(async()=>{var s;try{T(!0);const i=await O({query:r,severity:a,timeframe:o,sources:u});P((s=i.results)!=null&&s.length?i.results:[]),k(i.metrics??p),i.auditEntry&&b(n=>[i.auditEntry,...n].slice(0,6)),v(null)}catch(i){console.warn("Security search failed",i),v("Search service unavailable; showing cached data."),b(n=>[{id:`hist-fallback-${Date.now()}`,query:r||"(blank query)",severity:a,timeframe:o,sources:u,results:m.length,latencyMs:p.latencyMs,ranAt:new Date().toISOString()},...n].slice(0,6))}finally{T(!1)}},[r,a,o,u]);return e.jsxDEV("div",{className:"h-full flex flex-col -m-4","data-testid":"search-interface-widget",children:[e.jsxDEV("header",{className:"p-4 bg-slate-950/85 text-white border-b border-slate-800",children:e.jsxDEV("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs uppercase tracking-[0.3em] text-white/60",children:"Cyberstreams Track 2.B"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:258,columnNumber:13},void 0),e.jsxDEV("h3",{className:"text-2xl font-semibold",children:"Search Interface · Unified Threat Query"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:259,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-white/80",children:"Advanced query builder targeting OpenSearch with saved templates and audit history."},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:260,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:257,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-right min-w-[150px]",children:[e.jsxDEV("p",{className:"text-xs text-white/70",children:"Current SLA"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:265,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-2xl font-semibold",children:[g.latencyMs," ms"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:266,columnNumber:13},void 0),j&&e.jsxDEV("p",{className:"text-xs text-rose-300 mt-1",children:j},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:267,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:264,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:256,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:255,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 grid grid-cols-12 gap-4 p-4 bg-slate-50 dark:bg-slate-900/30 overflow-hidden",children:[e.jsxDEV("section",{className:"col-span-12 xl:col-span-5 flex flex-col gap-4",children:[e.jsxDEV("div",{className:"border border-slate-200 dark:border-slate-800 rounded-2xl bg-white dark:bg-slate-900/70 p-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("h4",{className:"font-semibold text-sm",children:"Query builder"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:276,columnNumber:15},void 0),e.jsxDEV(f,{variant:"primary",size:"small",onClick:R,"aria-label":"Run query",disabled:w,children:w?"Searching…":"Run query"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:277,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:275,columnNumber:13},void 0),e.jsxDEV("label",{className:"text-xs text-slate-600 dark:text-slate-300 mb-1 block",htmlFor:"search-query",children:"Search query"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:287,columnNumber:13},void 0),e.jsxDEV("textarea",{id:"search-query",value:r,onChange:s=>l(s.target.value),rows:3,className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 px-3 py-2 text-sm bg-white/80 dark:bg-slate-950/40",placeholder:"Example: credential leak finance exec"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:290,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs text-slate-600 dark:text-slate-300 mb-1 block",htmlFor:"severity-select",children:"Severity"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:300,columnNumber:17},void 0),e.jsxDEV("select",{id:"severity-select",value:a,onChange:s=>h(s.target.value),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 px-3 py-2 text-sm bg-white/80 dark:bg-slate-950/40",children:[e.jsxDEV("option",{value:"all",children:"All"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:309,columnNumber:19},void 0),e.jsxDEV("option",{value:"low",children:"Low"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:310,columnNumber:19},void 0),e.jsxDEV("option",{value:"medium",children:"Medium"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:311,columnNumber:19},void 0),e.jsxDEV("option",{value:"high",children:"High"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:312,columnNumber:19},void 0),e.jsxDEV("option",{value:"critical",children:"Critical"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:313,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:303,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:299,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs text-slate-600 dark:text-slate-300 mb-1 block",htmlFor:"timeframe-select",children:"Timeframe"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:317,columnNumber:17},void 0),e.jsxDEV("select",{id:"timeframe-select",value:o,onChange:s=>C(s.target.value),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 px-3 py-2 text-sm bg-white/80 dark:bg-slate-950/40",children:[e.jsxDEV("option",{value:"1h",children:"Last hour"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:326,columnNumber:19},void 0),e.jsxDEV("option",{value:"6h",children:"Last 6 hours"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:327,columnNumber:19},void 0),e.jsxDEV("option",{value:"24h",children:"Last 24 hours"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:328,columnNumber:19},void 0),e.jsxDEV("option",{value:"7d",children:"Last 7 days"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:329,columnNumber:19},void 0),e.jsxDEV("option",{value:"30d",children:"Last 30 days"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:330,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:320,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:316,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:298,columnNumber:13},void 0),e.jsxDEV("fieldset",{className:"mt-4",children:[e.jsxDEV("legend",{className:"text-xs text-slate-600 dark:text-slate-300 mb-2",children:"Sources"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:335,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-3 text-sm",children:_.map(s=>e.jsxDEV("label",{className:"inline-flex items-center gap-2",children:[e.jsxDEV("input",{type:"checkbox",checked:u.includes(s),onChange:()=>L(s),"aria-label":`Toggle source ${s}`,className:"ms-focusable"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:339,columnNumber:21},void 0),s]},s,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:338,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:336,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:334,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:274,columnNumber:11},void 0),e.jsxDEV("div",{className:"border border-slate-200 dark:border-slate-800 rounded-2xl bg-white dark:bg-slate-900/70 p-4 flex-1 overflow-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-semibold text-sm",children:"Saved templates"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:356,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-slate-500",children:["Curated by SecOps · WCAG compliant",S&&e.jsxDEV("span",{className:"text-amber-600 ml-2",children:S},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:359,columnNumber:40},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:357,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:355,columnNumber:15},void 0),e.jsxDEV(f,{variant:"subtle",size:"small",children:"Create template"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:362,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:354,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-3",role:"list",children:U.map(s=>e.jsxDEV("article",{className:"p-3 border border-slate-100 dark:border-slate-800 rounded-xl",role:"listitem",children:[e.jsxDEV("div",{className:"flex items-center justify-between gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-semibold text-sm",children:s.name},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:371,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-slate-500",children:s.description},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:372,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:370,columnNumber:21},void 0),e.jsxDEV(f,{variant:"primary",size:"small",onClick:()=>A(s),"aria-label":`Use template: ${s.name}`,children:"Use template"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:374,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:369,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-2 text-[11px] mt-2 text-slate-600 dark:text-slate-300",children:[e.jsxDEV("span",{children:["Severity: ",s.severity]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:384,columnNumber:21},void 0),e.jsxDEV("span",{children:["Timeframe: ",s.timeframe]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:385,columnNumber:21},void 0),e.jsxDEV("span",{children:["Sources: ",s.sources.join(", ")]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:386,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:383,columnNumber:19},void 0)]},s.id,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:368,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:366,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:353,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:273,columnNumber:9},void 0),e.jsxDEV("section",{className:"col-span-12 xl:col-span-7 flex flex-col gap-4 overflow-hidden",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxDEV(N,{label:"Documents scanned",value:g.totalDocs.toLocaleString(),helper:"OpenSearch ti-feeds"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:396,columnNumber:13},void 0),e.jsxDEV(N,{label:"Query latency",value:`${g.latencyMs} ms`,helper:"P95"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:397,columnNumber:13},void 0),e.jsxDEV(N,{label:"Coverage",value:`${Math.round(g.coverage*100)}%`,helper:"Feeds connected"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:398,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:395,columnNumber:11},void 0),e.jsxDEV("div",{className:"border border-slate-200 dark:border-slate-800 rounded-2xl bg-white dark:bg-slate-900/70 p-4 flex-1 overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("h4",{className:"font-semibold text-sm",children:"Results"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:403,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-xs text-slate-500",children:[m.length," matches"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:404,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:402,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-3 overflow-auto h-full","data-testid":"search-results",children:[m.map(s=>e.jsxDEV("article",{className:"p-3 border border-slate-100 dark:border-slate-800 rounded-xl","data-testid":"search-result",children:[e.jsxDEV("div",{className:"flex items-center justify-between gap-2 text-xs",children:[e.jsxDEV("span",{className:"font-semibold",children:s.id},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:410,columnNumber:21},void 0),e.jsxDEV("span",{children:new Date(s.timestamp).toLocaleString()},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:411,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:409,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm font-semibold mt-1",children:I(s.title)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:413,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs text-slate-500",children:I(s.summary)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:414,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex flex-wrap items-center gap-2 mt-2 text-xs",children:[e.jsxDEV("span",{className:`px-2 py-0.5 rounded-full border ${H[s.severity]}`,children:s.severity.toUpperCase()},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:416,columnNumber:21},void 0),e.jsxDEV("span",{className:"px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-800",children:s.source},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:419,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-slate-500",children:["Score ",Math.round(s.score*100),"%"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:420,columnNumber:21},void 0),(s.tags??[]).map(i=>e.jsxDEV("span",{className:"px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-800",children:["#",i]},i,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:422,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:415,columnNumber:19},void 0)]},s.id,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:408,columnNumber:17},void 0)),m.length===0&&e.jsxDEV("div",{className:"text-sm text-slate-500 border border-dashed border-slate-200 rounded-xl p-6 text-center",children:"No documents matched. Adjust filters or broaden timeframe."},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:430,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:406,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:401,columnNumber:11},void 0),e.jsxDEV("div",{className:"border border-slate-200 dark:border-slate-800 rounded-2xl bg-white dark:bg-slate-900/70 p-4 h-48 overflow-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("h4",{className:"font-semibold text-sm",children:"Search history"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:439,columnNumber:15},void 0),e.jsxDEV(f,{variant:"subtle",size:"small",children:"Export audit log"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:440,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:438,columnNumber:13},void 0),e.jsxDEV("table",{className:"w-full text-xs",children:[e.jsxDEV("thead",{className:"text-slate-500",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"text-left font-medium",children:"Time"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:447,columnNumber:19},void 0),e.jsxDEV("th",{className:"text-left font-medium",children:"Query"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:448,columnNumber:19},void 0),e.jsxDEV("th",{className:"text-left font-medium",children:"Filters"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:449,columnNumber:19},void 0),e.jsxDEV("th",{className:"text-left font-medium",children:"Results"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:450,columnNumber:19},void 0),e.jsxDEV("th",{className:"text-left font-medium",children:"Latency"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:451,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:446,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:445,columnNumber:15},void 0),e.jsxDEV("tbody",{className:"text-slate-700 dark:text-slate-200",children:[W.length===0&&e.jsxDEV("tr",{children:e.jsxDEV("td",{className:"py-2 text-center text-slate-500",colSpan:5,children:"Run a search to populate audit history."},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:457,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:456,columnNumber:19},void 0),W.map(s=>e.jsxDEV("tr",{"data-testid":"search-history-row",children:[e.jsxDEV("td",{className:"py-1",children:new Date(s.ranAt).toLocaleTimeString()},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:464,columnNumber:21},void 0),e.jsxDEV("td",{className:"py-1",children:s.query},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:465,columnNumber:21},void 0),e.jsxDEV("td",{className:"py-1",children:[s.severity," · ",s.timeframe," · ",(s.sources??[]).join(", ")]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:466,columnNumber:21},void 0),e.jsxDEV("td",{className:"py-1",children:s.results},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:469,columnNumber:21},void 0),e.jsxDEV("td",{className:"py-1",children:[s.latencyMs," ms"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:470,columnNumber:21},void 0)]},s.id,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:463,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:454,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:444,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:437,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:394,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:272,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:254,columnNumber:5},void 0)},N=({label:r,value:l,helper:a})=>e.jsxDEV("div",{className:"border border-slate-200 dark:border-slate-800 rounded-2xl bg-white dark:bg-slate-900/70 p-4",children:[e.jsxDEV("p",{className:"text-xs text-slate-500 uppercase tracking-wide",children:r},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:484,columnNumber:5},void 0),e.jsxDEV("p",{className:"text-2xl font-semibold mt-1",children:l},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:485,columnNumber:5},void 0),a&&e.jsxDEV("p",{className:"text-xs text-slate-400",children:a},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:486,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/SearchInterfaceWidget.tsx",lineNumber:483,columnNumber:3},void 0);export{se as default};
