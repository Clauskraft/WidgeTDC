import{j as s}from"./index-DZEoTVC4.js";import{r as i}from"./ui-DyG0g13d.js";import{M as b}from"./MatrixWidgetWrapper-mghho8C4.js";import"./vendor-Cv91Oj79.js";import"./graph-i8PIyU_l.js";import"./grid-BAREo1Ej.js";const T=u=>({on:()=>{},close:()=>{},send:()=>{}}),S=()=>{const[u,n]=i.useState([]),[l,c]=i.useState(""),[m,o]=i.useState(!1),[N,x]=i.useState(null),g=i.useRef(null);i.useEffect(()=>{var e;(e=g.current)==null||e.scrollIntoView({behavior:"smooth"})},[u]),i.useEffect(()=>{const e=T();return x(e),e.on("NEXUS_RESPONSE",t=>{const d=typeof t=="string"?t:t.data,r={id:`nexus-${Date.now()}`,content:d,timestamp:new Date,type:"nexus"};n(D=>[...D,r]),o(!1)}),n([{id:"welcome",content:"NEXUS CORE ONLINE. SYSTEMS NOMINAL.",timestamp:new Date,type:"system"}]),()=>{e.close()}},[]);const p=async()=>{if(!l.trim()||m||!N)return;const e={id:`user-${Date.now()}`,content:l.trim(),timestamp:new Date,type:"user"};n(t=>[...t,e]);const a=l;c(""),o(!0);try{setTimeout(()=>{let t=`Command not recognized: ${a}`;a.toLowerCase().includes("status")?t="SYSTEM STATUS: OPTIMAL. CPU: 12% MEM: 45%":a.toLowerCase().includes("scan")?t="INITIATING DEEP SCAN... NO THREATS DETECTED.":a.toLowerCase().includes("help")&&(t="AVAILABLE COMMANDS: STATUS, SCAN, KILL <PID>, FLUSH DNS");const d={id:`nexus-${Date.now()}`,content:t,timestamp:new Date,type:"nexus"};n(r=>[...r,d]),o(!1)},800)}catch(t){const d={id:`error-${Date.now()}`,content:`SYSTEM ERROR: ${t.message}`,timestamp:new Date,type:"system"};n(r=>[...r,d]),o(!1)}},f=e=>{e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),p())};return s.jsxDEV(b,{title:"NEXUS TERMINAL",className:"font-mono",children:s.jsxDEV("div",{className:"flex flex-col h-full bg-black/40 rounded-lg overflow-hidden border border-green-500/20 relative",children:[s.jsxDEV("div",{className:"absolute inset-0 pointer-events-none bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSIxIiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9IjAuMiIvPgo8L3N2Zz4=')] z-10 opacity-50"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:124,columnNumber:13},void 0),s.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 font-mono text-xs z-20 custom-scrollbar",children:[u.map(e=>s.jsxDEV("div",{className:"leading-relaxed break-words",children:[e.type==="user"&&s.jsxDEV("div",{className:"text-blue-400 flex gap-2",children:[s.jsxDEV("span",{className:"text-blue-500/50",children:">"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:132,columnNumber:25},void 0),e.content]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:131,columnNumber:21},void 0),e.type==="nexus"&&s.jsxDEV("div",{className:"text-green-400 flex gap-2",children:[s.jsxDEV("span",{className:"text-green-500/50",children:"#"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:138,columnNumber:25},void 0),s.jsxDEV("span",{className:"text-green-300",children:e.content},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:139,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:137,columnNumber:21},void 0),e.type==="system"&&s.jsxDEV("div",{className:"text-red-400 flex gap-2 font-bold",children:[s.jsxDEV("span",{children:"!"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:144,columnNumber:25},void 0)," ",e.content]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:143,columnNumber:21},void 0)]},e.id,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:129,columnNumber:17},void 0)),m&&s.jsxDEV("div",{className:"text-yellow-400 animate-pulse",children:[s.jsxDEV("span",{className:"text-yellow-500/50",children:"%"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:151,columnNumber:21},void 0)," PROCESSING..."]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:150,columnNumber:17},void 0),s.jsxDEV("div",{ref:g},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:154,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:127,columnNumber:13},void 0),s.jsxDEV("div",{className:"p-2 bg-black/60 border-t border-green-500/20 z-20 flex items-center gap-2",children:[s.jsxDEV("span",{className:"text-green-500 animate-pulse",children:"_"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:159,columnNumber:17},void 0),s.jsxDEV("input",{type:"text",value:l,onChange:e=>c(e.target.value),onKeyDown:f,placeholder:"ENTER COMMAND...",className:"flex-1 bg-transparent border-none outline-none text-green-400 placeholder-green-900 text-xs font-mono uppercase",disabled:m,autoFocus:!0},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:160,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:158,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:122,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/NexusTerminalWidget.tsx",lineNumber:121,columnNumber:5},void 0)};export{S as default};
