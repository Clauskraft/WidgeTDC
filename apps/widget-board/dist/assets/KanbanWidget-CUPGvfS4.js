import{j as e}from"./index-DZEoTVC4.js";import{r as u,p as C,t as W,U as w,u as T,v as j}from"./ui-DyG0g13d.js";import{u as h}from"./useWidgetSync-DeOUJzf9.js";import"./vendor-Cv91Oj79.js";import"./graph-i8PIyU_l.js";import"./grid-BAREo1Ej.js";import"./useMCP-CI-td5l2.js";const v=[{id:"t1",title:"Implementer OAuth",status:"TODO",assignee:"Claus",priority:"high",tags:["backend","security"]},{id:"t2",title:"Design nyt Dashboard",status:"IN_PROGRESS",assignee:"AI",priority:"medium",tags:["frontend","ui"]},{id:"t3",title:"Fix Linter fejl",status:"DONE",assignee:"AI",priority:"low",tags:["maintenance"]}],d=[{id:"TODO",title:"To Do",color:"bg-slate-500/20 border-slate-500/30"},{id:"IN_PROGRESS",title:"In Progress",color:"bg-blue-500/20 border-blue-500/30"},{id:"REVIEW",title:"Review",color:"bg-purple-500/20 border-purple-500/30"},{id:"DONE",title:"Done",color:"bg-green-500/20 border-green-500/30"}],I=({widgetId:p})=>{const[a,g]=u.useState(v),[f,o]=u.useState(!1),[n,m]=u.useState("");h(p,{tasksCount:a.length,activeTasks:a.filter(i=>i.status!=="DONE").length,columns:d.map(i=>({id:i.id,count:a.filter(s=>s.status===i.id).length}))});const c=(i,s)=>{g(t=>t.map(l=>{if(l.id!==i)return l;const b=d.findIndex(D=>D.id===l.status);let r=s==="next"?b+1:b-1;return r<0&&(r=0),r>=d.length&&(r=d.length-1),{...l,status:d[r].id}}))},x=i=>{if(i.preventDefault(),!n.trim())return;const s={id:`t-${Date.now()}`,title:n,status:"TODO",assignee:"Unassigned",priority:"medium",tags:[]};g(t=>[...t,s]),m(""),o(!1)},N=i=>{switch(i){case"high":return"text-red-400";case"medium":return"text-yellow-400";default:return"text-blue-400"}};return e.jsxDEV("div",{className:"h-full flex flex-col","data-testid":"kanban-widget",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4 px-1",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-white",children:"Projekt Tavle"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:86,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:[a.length," opgaver"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:87,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:85,columnNumber:9},void 0),e.jsxDEV("button",{onClick:()=>o(!0),className:"px-3 py-1.5 bg-[#00B5CB] hover:bg-[#009eb3] text-[#051e3c] rounded-lg text-sm font-medium flex items-center gap-1 transition-colors",children:[e.jsxDEV(C,{size:16},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:93,columnNumber:11},void 0)," Ny Opgave"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:89,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:84,columnNumber:7},void 0),f&&e.jsxDEV("form",{onSubmit:x,className:"mb-4 p-3 bg-white/5 rounded-xl border border-white/10 animate-in fade-in slide-in-from-top-2",children:[e.jsxDEV("input",{autoFocus:!0,type:"text",value:n,onChange:i=>m(i.target.value),placeholder:"Hvad skal gÃ¸res?",className:"w-full bg-transparent border-none text-white placeholder-gray-500 focus:ring-0 outline-none mb-2"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:100,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end gap-2",children:[e.jsxDEV("button",{type:"button",onClick:()=>o(!1),className:"px-3 py-1 text-xs text-gray-400 hover:text-white transition-colors",children:"Annuller"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:109,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",disabled:!n.trim(),className:"px-3 py-1 bg-[#00B5CB]/20 text-[#00B5CB] hover:bg-[#00B5CB]/30 rounded-lg text-xs font-medium transition-colors disabled:opacity-50",children:"Opret"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:116,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:108,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:99,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 flex gap-3 overflow-x-auto pb-2",children:d.map(i=>{const s=a.filter(t=>t.status===i.id);return e.jsxDEV("div",{className:"flex-1 min-w-[200px] flex flex-col bg-[#0B3E6F]/20 rounded-xl border border-white/5 overflow-hidden",children:[e.jsxDEV("div",{className:`p-2 border-b ${i.color} flex items-center justify-between`,children:[e.jsxDEV("span",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wider",children:i.title},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:136,columnNumber:17},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-black/20 rounded-full text-[10px] text-gray-300",children:s.length},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:137,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:135,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:[s.map(t=>e.jsxDEV("div",{className:"p-3 bg-[#051e3c]/60 hover:bg-[#051e3c]/80 border border-white/5 rounded-lg group transition-all",children:[e.jsxDEV("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-200 line-clamp-2",children:t.title},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:145,columnNumber:23},void 0),e.jsxDEV("button",{className:"opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white transition-opacity",children:e.jsxDEV(W,{size:14},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:147,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:146,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:144,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxDEV("div",{className:"flex items-center gap-1 text-[10px] text-gray-400",children:[e.jsxDEV(w,{size:10},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:153,columnNumber:25},void 0)," ",t.assignee]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:152,columnNumber:23},void 0),e.jsxDEV("div",{className:`ml-auto w-2 h-2 rounded-full ${N(t.priority)} bg-current`,title:`Prioritet: ${t.priority}`},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:155,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:151,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mt-3 pt-2 border-t border-white/5 opacity-0 group-hover:opacity-100 transition-opacity delay-75",children:[e.jsxDEV("button",{onClick:()=>c(t.id,"prev"),disabled:t.status==="TODO",className:"p-1 hover:bg-white/10 rounded text-gray-400 disabled:opacity-0",children:e.jsxDEV(T,{size:12},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:165,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:160,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>c(t.id,"next"),disabled:t.status==="DONE",className:"p-1 hover:bg-white/10 rounded text-gray-400 disabled:opacity-0",children:e.jsxDEV(j,{size:12},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:172,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:167,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:159,columnNumber:21},void 0)]},t.id,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:143,columnNumber:19},void 0)),s.length===0&&e.jsxDEV("div",{className:"text-center py-4 text-gray-500/50 text-xs italic border-2 border-dashed border-white/5 rounded-lg",children:"Tom"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:178,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:141,columnNumber:15},void 0)]},i.id,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:133,columnNumber:13},void 0)})},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:128,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/KanbanWidget.tsx",lineNumber:82,columnNumber:5},void 0)};export{I as default};
