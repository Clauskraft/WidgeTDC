import{j as e}from"./index-DZEoTVC4.js";import{r as i,c as N,R as f,T as x,A as o,F as p,d as C,G as W}from"./ui-DyG0g13d.js";import{u as w}from"./useMCP-CI-td5l2.js";import"./vendor-Cv91Oj79.js";import"./graph-i8PIyU_l.js";import"./grid-BAREo1Ej.js";const E=()=>{const{send:g}=w(),[m,c]=i.useState([]),[a,r]=i.useState(!0),[n,u]=i.useState(null),d=async()=>{var s,l;r(!0);try{const t=await g("agent-orchestrator","ingestion.status",{});if(t&&t.success){const D=[{id:"email-reader",name:"Email Ingestor",type:"ingestion",status:"running",lastRun:new Date().toISOString(),itemsProcessed:((s=t.sources)==null?void 0:s.emails)||0},{id:"news-monitor",name:"News Monitor",type:"ingestion",status:"running",lastRun:new Date().toISOString(),itemsProcessed:((l=t.sources)==null?void 0:l.news)||0},{id:"threat-hunter",name:"Threat Hunter",type:"analysis",status:"idle",lastRun:new Date().toISOString(),itemsProcessed:0},{id:"wiki-librarian",name:"Wiki Librarian",type:"maintenance",status:"idle",lastRun:new Date().toISOString(),itemsProcessed:t.totalDocuments||0}];c(D),u(null)}}catch(t){console.warn("Agent status failed:",t),u("Kunne ikke forbinde til Agent Grid")}finally{r(!1)}};i.useEffect(()=>{d();const s=setInterval(d,5e3);return()=>clearInterval(s)},[]);const b=s=>{switch(s){case"ingestion":return e.jsxDEV(W,{size:16,className:"text-blue-400"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:81,columnNumber:32},void 0);case"analysis":return e.jsxDEV(C,{size:16,className:"text-red-400"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:82,columnNumber:31},void 0);case"maintenance":return e.jsxDEV(p,{size:16,className:"text-green-400"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:83,columnNumber:34},void 0);default:return e.jsxDEV(o,{size:16},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:84,columnNumber:23},void 0)}};return e.jsxDEV("div",{className:"h-full flex flex-col -m-4","data-testid":"agent-status-widget",children:[e.jsxDEV("div",{className:"p-4 border-b border-white/10 bg-[#0B3E6F]/20 flex justify-between items-center",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(N,{size:18,className:"text-[#00B5CB]"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:92,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-white",children:"Agent Status"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:94,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:"Active Autonomous Agents"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:95,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:93,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:91,columnNumber:9},void 0),e.jsxDEV("button",{onClick:d,disabled:a,className:`p-2 rounded-lg hover:bg-white/10 text-gray-300 transition-colors ${a?"animate-spin":""}`,children:e.jsxDEV(f,{size:16},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:103,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:98,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:90,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:n?e.jsxDEV("div",{className:"text-center py-8 text-red-400 bg-red-500/10 rounded-xl border border-red-500/20",children:[e.jsxDEV(x,{className:"mx-auto mb-2"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:110,columnNumber:13},void 0),e.jsxDEV("p",{children:n},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:111,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:109,columnNumber:11},void 0):m.map(s=>e.jsxDEV("div",{className:"bg-[#0B3E6F]/20 border border-white/5 rounded-xl p-3 flex items-center justify-between group hover:border-[#00B5CB]/30 transition-all",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"p-2 bg-black/20 rounded-lg",children:b(s.type)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:117,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium text-gray-200 text-sm",children:s.name},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:121,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[e.jsxDEV(o,{size:8},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:123,columnNumber:21},void 0)," ",s.status.toUpperCase()]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:122,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:120,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:116,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"text-lg font-bold text-white",children:s.itemsProcessed},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:129,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-[10px] text-gray-500",children:"items"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:130,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:128,columnNumber:15},void 0)]},s.id,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:115,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:107,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/AgentStatusDashboardWidget.tsx",lineNumber:89,columnNumber:5},void 0)};export{E as default};
