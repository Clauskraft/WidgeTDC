import{j as e,s as Z}from"./index-DZEoTVC4.js";import{r as N,at as Q,$ as q,au as J,ao as ee,av as ie,aw as se,T as te,F as de,d as ae,E as ne,a1 as re,a2 as oe,n as le,ax as ce,R as ue}from"./ui-DyG0g13d.js";import{c as me,p as ge}from"./middleware-C5DhYBon.js";import{M as Ce}from"./MatrixWidgetWrapper-mghho8C4.js";import"./vendor-Cv91Oj79.js";import"./graph-i8PIyU_l.js";import"./grid-BAREo1Ej.js";import"./vanilla-m3Xdu9cz.js";const xe={incidentId:"INC-4711",threatVector:"FIN-DB Lateral Movement",attackerProfile:"APT-29 / Cozy Bear indicators",riskScore:91,arrExposure:245e5,detectedAt:"2025-01-15T06:32:00Z",status:"escalated",graphNodes:[{id:"fin-db-02",label:"FIN-DB-02",type:"compromised",risk:"critical"},{id:"admin-acc",label:"Admin-konto (outsourcet)",type:"account",risk:"critical"},{id:"soc-svc",label:"SOC as a Service",type:"service",risk:"high"},{id:"jump-srv",label:"Jump Server EU-West",type:"server",risk:"medium"},{id:"ext-ip",label:"185.xx.xx.xx (TOR Exit)",type:"external",risk:"critical"}],indicators:[{type:"ip",value:"185.xxx.xxx.xxx",confidence:94},{type:"hash",value:"a3f2b8c...",confidence:87},{type:"domain",value:"cdn-update.*.com",confidence:72},{type:"cve",value:"CVE-2025-0024",confidence:98}]},pe={contractId:"CTR-RX-2023-001",customerName:"Region X",arrValue:245e5,currency:"DKK",regulatoryFrameworks:[{id:"dpa",name:"DPA (Databehandleraftale)",status:"compliant"},{id:"nis2",name:"NIS2 Annex II",status:"partial",deadline:"2025-02-01"},{id:"cloud-res",name:"Cloud Residency (EU/EØS)",status:"compliant"},{id:"gdpr-32",name:"GDPR Art. 32",status:"compliant"}],keyClause:"Klausul om dataplacering: Ingen behandling af persondata må ske udenfor EU/EØS uden forudgående skriftlig godkendelse fra Region X.",clauseReference:"§4.3 Dataplacering & Sovereignty",expirationDate:"2026-12-31"},be={decisionId:"DEC-4711-001",owner:"SVP AI Cloud & Cyber",customerContext:"Kritisk kunde · NIS2 · Sundhedssektor",status:"pending",deadline:"2025-01-15T14:00:00Z",financialImpact:{arrAtRisk:245e5,potentialPenalty:5e6,currency:"DKK"},actions:[{id:"action-1",priority:1,description:"Skift midlertidigt til 100% lokal model for al behandling af Region X-data",deadline:"2025-01-15T10:00:00Z",status:"in_progress"},{id:"action-2",priority:2,description:"Varsl DPA og Region X inden kl. 14:00 med foreløbig rapport",deadline:"2025-01-15T14:00:00Z",status:"pending"},{id:"action-3",priority:3,description:"Freeze udrulning af ny feature i Region X-miljøet",deadline:"2025-01-15T12:00:00Z",status:"completed"}],boardConfirmation:!1},Ne=[{id:"node-threat-rx",type:"threat",position:{x:100,y:150},size:{width:420,height:380},title:"Threat Hunt: Region X",subtitle:"FIN-DB Lateral Movement",severity:"critical",widgetType:"CybersecurityOverwatchWidget",metadata:{...xe,headerBadge:"Kritisk kunde · NIS2"}},{id:"node-contract-rx",type:"contract",position:{x:580,y:100},size:{width:380,height:320},title:"Contract View: Rammeaftale",subtitle:"Region X",severity:"high",widgetType:"ProcurementIntelligenceWidget",metadata:{...pe,headerBadge:"DPA, NIS2 Annex, Cloud Residency"}},{id:"node-decision-rx",type:"decision",position:{x:340,y:550},size:{width:400,height:350},title:"Decision: Region X",subtitle:"Incident 4711 (SVP Ansvar)",severity:"critical",widgetType:"CmaDecisionWidget",metadata:{...be,headerBadge:"SVP AI Cloud & Cyber"}},{id:"node-darkweb-rx",type:"widget",position:{x:1020,y:200},size:{width:320,height:280},title:"Dark Web Intel",subtitle:"Region X credentials",severity:"high",collapsed:!0,widgetType:"DarkWebMonitorWidget",metadata:{monitoredDomains:["region-x.dk","sundhed.region-x.dk"],alertsCount:3}},{id:"node-compliance-rx",type:"widget",position:{x:1020,y:520},size:{width:320,height:240},title:"SRAG Governance",subtitle:"NIS2 Compliance Status",severity:"medium",collapsed:!0,widgetType:"SragGovernanceWidget",metadata:{framework:"NIS2",customer:"Region X"}}],fe=[{id:"conn-threat-contract",sourceId:"node-threat-rx",targetId:"node-contract-rx",connectionType:"regulatory",label:"Hændelsen ligger under denne aftale",svpBudskab:"Den konkrete aktivitet her (peg på graf) er reguleret af præcis den klausul her (peg på kontrakt).",style:"solid",color:"#F59E0B"},{id:"conn-threat-decision",sourceId:"node-threat-rx",targetId:"node-decision-rx",connectionType:"causal",label:"Beslutning afledt af hændelsen",svpBudskab:"Dette er ikke mavefornemmelse – det er en konsekvens af databilledet + kontraktbilledet, som leder til denne beslutning.",style:"solid",color:"#EF4444"},{id:"conn-contract-decision",sourceId:"node-contract-rx",targetId:"node-decision-rx",connectionType:"financial",label:"Kontraktuelle forpligtelser",svpBudskab:"Vores handlingsrum er defineret af disse klausuler og den økonomiske eksponering.",style:"dashed",color:"#3B82F6"},{id:"conn-darkweb-threat",sourceId:"node-darkweb-rx",targetId:"node-threat-rx",connectionType:"operational",label:"Intel understøtter trussel",style:"dashed",color:"#8B5CF6"},{id:"conn-compliance-contract",sourceId:"node-compliance-rx",targetId:"node-contract-rx",connectionType:"regulatory",label:"NIS2 krav i aftalen",style:"dashed",color:"#10B981"}],ve=[{id:"cluster-region-x-nis2",name:"Region X - NIS2 Incident Cluster",description:"Kritisk hændelse med lateral movement i FIN-DB. NIS2 og DPA-krav aktiveret.",nodes:["node-threat-rx","node-contract-rx","node-decision-rx","node-darkweb-rx","node-compliance-rx"],connections:["conn-threat-contract","conn-threat-decision","conn-contract-decision","conn-darkweb-threat","conn-compliance-contract"],centerPosition:{x:550,y:400},severity:"critical",owner:"SVP AI Cloud & Cyber",tags:["NIS2","Region X","FIN-DB","Lateral Movement","DPA"]}],we=[{id:"cluster-pharma-gdpr",name:"Pharma Corp - GDPR Breach",description:"Potentielt databrud med kliniske forsøgsdata.",nodes:[],connections:[],centerPosition:{x:1500,y:200},severity:"high",owner:"SVP AI Cloud & Cyber",tags:["GDPR","Pharma","Clinical Data"]},{id:"cluster-bank-sox",name:"Nordic Bank - SOX Audit",description:"SOX compliance audit Q1 forberedelse.",nodes:[],connections:[],centerPosition:{x:1500,y:600},severity:"medium",owner:"VP Compliance",tags:["SOX","Financial","Audit"]},{id:"cluster-telecom-5g",name:"Telecom Alpha - 5G Security",description:"5G core network penetration test findings.",nodes:[],connections:[],centerPosition:{x:100,y:800},severity:"medium",owner:"CISO",tags:["5G","Telecom","PenTest"]},{id:"cluster-energy-nis2",name:"Energy Corp - NIS2 Migration",description:"NIS2 compliance deadline approaching.",nodes:[],connections:[],centerPosition:{x:800,y:900},severity:"low",owner:"VP Infrastructure",tags:["NIS2","Energy","Migration"]}],A={viewport:{zoom:1,pan:{x:0,y:0},mode:"crisis"},nodes:Ne,connections:fe,clusters:[...ve,...we],selectedNodeId:void 0,selectedConnectionId:void 0,hoveredNodeId:void 0,presentationMode:!1,showMinimap:!0},De={totalArrAtRisk:895e5,criticalIncidents:2,complianceScore:87},y=me()(ge((i,a)=>({...A,setZoom:s=>i(t=>({viewport:{...t.viewport,zoom:Math.max(.1,Math.min(3,s))}})),setPan:s=>i(t=>({viewport:{...t.viewport,pan:s}})),setViewportMode:s=>i(t=>({viewport:{...t.viewport,mode:s}})),resetViewport:()=>i({viewport:{zoom:1,pan:{x:0,y:0},mode:"crisis"}}),addNode:s=>i(t=>({nodes:[...t.nodes,s]})),updateNode:(s,t)=>i(o=>({nodes:o.nodes.map(c=>c.id===s?{...c,...t}:c)})),removeNode:s=>i(t=>({nodes:t.nodes.filter(o=>o.id!==s),connections:t.connections.filter(o=>o.sourceId!==s&&o.targetId!==s),selectedNodeId:t.selectedNodeId===s?void 0:t.selectedNodeId})),moveNode:(s,t)=>i(o=>({nodes:o.nodes.map(c=>c.id===s?{...c,position:t}:c)})),toggleNodeCollapse:s=>i(t=>({nodes:t.nodes.map(o=>o.id===s?{...o,collapsed:!o.collapsed}:o)})),selectNode:s=>i({selectedNodeId:s,selectedConnectionId:void 0}),hoverNode:s=>i({hoveredNodeId:s}),addConnection:s=>i(t=>({connections:[...t.connections,s]})),updateConnection:(s,t)=>i(o=>({connections:o.connections.map(c=>c.id===s?{...c,...t}:c)})),removeConnection:s=>i(t=>({connections:t.connections.filter(o=>o.id!==s),selectedConnectionId:t.selectedConnectionId===s?void 0:t.selectedConnectionId})),selectConnection:s=>i({selectedConnectionId:s,selectedNodeId:void 0}),addCluster:s=>i(t=>({clusters:[...t.clusters,s]})),updateCluster:(s,t)=>i(o=>({clusters:o.clusters.map(c=>c.id===s?{...c,...t}:c)})),removeCluster:s=>i(t=>({clusters:t.clusters.filter(o=>o.id!==s)})),focusCluster:s=>{const t=a().clusters.find(o=>o.id===s);t&&i({viewport:{zoom:1,pan:{x:-t.centerPosition.x+500,y:-t.centerPosition.y+300},mode:"crisis"}})},togglePresentationMode:()=>i(s=>({presentationMode:!s.presentationMode})),toggleMinimap:()=>i(s=>({showMinimap:!s.showMinimap})),loadState:s=>i(t=>({...t,...s})),resetToDefault:()=>i(A)}),{name:"executive-risk-canvas",partialize:i=>({viewport:i.viewport,nodes:i.nodes,connections:i.connections,clusters:i.clusters,showMinimap:i.showMinimap})})),he=()=>y(i=>i.viewport),Ee=()=>y(i=>i.nodes),Te=()=>y(i=>i.connections),We=()=>y(i=>i.clusters),je={critical:{bg:"bg-rose-950/40",border:"border-rose-500/50",badge:"bg-rose-500"},high:{bg:"bg-orange-950/40",border:"border-orange-500/50",badge:"bg-orange-500"},medium:{bg:"bg-amber-950/40",border:"border-amber-500/50",badge:"bg-amber-500"},low:{bg:"bg-emerald-950/40",border:"border-emerald-500/50",badge:"bg-emerald-500"}},ke={threat:e.jsxDEV(ae,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:40,columnNumber:11},void 0),contract:e.jsxDEV(de,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:41,columnNumber:13},void 0),decision:e.jsxDEV(te,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:42,columnNumber:13},void 0),policy:e.jsxDEV(se,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:43,columnNumber:11},void 0),widget:e.jsxDEV(ie,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:44,columnNumber:11},void 0)},ye={threat:"Threat Hunt",contract:"Contract View",decision:"Decision Card",policy:"Policy",widget:"Widget"},Re=({node:i,isSelected:a,isHovered:s,zoom:t,onSelect:o,onHover:c,onMove:h,onToggleCollapse:d,onRemove:f,widgetComponent:v})=>{var x;const n=N.useRef(null),p=N.useRef(null),D=i.severity||"medium",r=je[D],m=N.useCallback(u=>{u.preventDefault(),u.stopPropagation(),p.current={startX:u.clientX,startY:u.clientY,nodeX:i.position.x,nodeY:i.position.y};const g=E=>{if(!p.current)return;const W=(E.clientX-p.current.startX)/t,j=(E.clientY-p.current.startY)/t;h({x:p.current.nodeX+W,y:p.current.nodeY+j})},w=()=>{p.current=null,window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",w)};window.addEventListener("mousemove",g),window.addEventListener("mouseup",w)},[i.position,t,h]),C=(x=i.metadata)==null?void 0:x.headerBadge;return e.jsxDEV("div",{ref:n,className:`
        absolute rounded-xl backdrop-blur-md shadow-2xl overflow-hidden
        transition-all duration-200 ease-out
        ${r.bg} ${r.border} border-2
        ${a?"ring-2 ring-white/30 shadow-[0_0_30px_rgba(255,255,255,0.1)]":""}
        ${s?"shadow-[0_0_20px_rgba(255,255,255,0.05)]":""}
        ${i.collapsed?"cursor-pointer":""}
      `,style:{left:i.position.x,top:i.position.y,width:i.collapsed?280:i.size.width,height:i.collapsed?60:i.size.height,transform:`scale(${a?1.02:1})`,zIndex:a?100:s?50:10},onClick:u=>{u.stopPropagation(),o(),i.collapsed&&d()},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e.jsxDEV("div",{className:"flex items-center justify-between px-3 py-2 bg-black/20 border-b border-white/10 cursor-grab active:cursor-grabbing",onMouseDown:m,children:[e.jsxDEV("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsxDEV(Q,{className:"w-4 h-4 text-white/40 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:143,columnNumber:11},void 0),e.jsxDEV("div",{className:`p-1 rounded ${r.badge} flex-shrink-0`,children:ke[i.type]},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:144,columnNumber:11},void 0),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-xs font-medium text-white/70 uppercase tracking-wider",children:ye[i.type]},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:149,columnNumber:15},void 0),C&&e.jsxDEV("span",{className:"text-[10px] px-1.5 py-0.5 bg-white/10 rounded text-white/60 truncate max-w-[120px]",children:C},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:153,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:148,columnNumber:13},void 0),e.jsxDEV("h3",{className:"text-sm font-semibold text-white truncate",children:i.title},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:158,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:147,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:142,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsxDEV("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold uppercase ${r.badge} text-white`,children:D},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:166,columnNumber:11},void 0),e.jsxDEV("button",{onClick:u=>{u.stopPropagation(),d()},className:"p-1 hover:bg-white/10 rounded transition-colors",children:i.collapsed?e.jsxDEV(q,{className:"w-3.5 h-3.5 text-white/60"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:179,columnNumber:15},void 0):e.jsxDEV(J,{className:"w-3.5 h-3.5 text-white/60"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:181,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:171,columnNumber:11},void 0),e.jsxDEV("button",{onClick:u=>{u.stopPropagation(),f()},className:"p-1 hover:bg-red-500/20 rounded transition-colors",children:e.jsxDEV(ee,{className:"w-3.5 h-3.5 text-white/60 hover:text-red-400"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:193,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:186,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:164,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:138,columnNumber:7},void 0),!i.collapsed&&e.jsxDEV("div",{className:"flex-1 overflow-hidden",style:{height:i.size.height-52},children:v?e.jsxDEV(N.Suspense,{fallback:e.jsxDEV("div",{className:"h-full flex items-center justify-center text-white/40",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-4 h-4 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:206,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-xs",children:"Loading widget..."},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:207,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:205,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:204,columnNumber:17},void 0),children:e.jsxDEV(v,{widgetId:i.id,config:i.metadata,compact:!0},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:212,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:202,columnNumber:13},void 0):e.jsxDEV(Pe,{node:i},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:219,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:200,columnNumber:9},void 0),i.collapsed&&i.subtitle&&e.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 px-3 py-1 text-xs text-white/50 truncate",children:i.subtitle},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:226,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:111,columnNumber:5},void 0)},Pe=({node:i})=>{const a=i.metadata||{};return i.type==="threat"?e.jsxDEV("div",{className:"p-3 space-y-3 text-sm",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-white/60",children:"Risk Score"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:242,columnNumber:11},void 0),e.jsxDEV("span",{className:"font-bold text-rose-400",children:a.riskScore||"N/A"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:243,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:241,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-white/60",children:"ARR Exposure"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:246,columnNumber:11},void 0),e.jsxDEV("span",{className:"font-bold text-white",children:a.arrExposure?`${(a.arrExposure/1e6).toFixed(1)} mio DKK`:"N/A"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:247,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:245,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-white/60",children:"Status"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:254,columnNumber:11},void 0),e.jsxDEV("span",{className:`font-medium ${a.status==="escalated"?"text-rose-400":a.status==="investigating"?"text-amber-400":"text-emerald-400"}`,children:a.status||"Unknown"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:255,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:253,columnNumber:9},void 0),a.graphNodes&&Array.isArray(a.graphNodes)&&e.jsxDEV("div",{className:"mt-2 pt-2 border-t border-white/10",children:[e.jsxDEV("span",{className:"text-xs text-white/40 uppercase",children:"Attack Graph Nodes"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:264,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1 mt-1",children:a.graphNodes.slice(0,4).map((s,t)=>e.jsxDEV("span",{className:"text-xs px-2 py-0.5 bg-white/10 rounded",children:s.label},t,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:267,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:265,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:263,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:240,columnNumber:7},void 0):i.type==="contract"?e.jsxDEV("div",{className:"p-3 space-y-3 text-sm",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-white/60",children:"ARR Value"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:282,columnNumber:11},void 0),e.jsxDEV("span",{className:"font-bold text-white",children:a.arrValue?`${(a.arrValue/1e6).toFixed(1)} mio ${a.currency||"DKK"}`:"N/A"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:283,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:281,columnNumber:9},void 0),a.keyClause&&e.jsxDEV("div",{className:"p-2 bg-white/5 rounded border border-white/10",children:[e.jsxDEV("span",{className:"text-xs text-white/40 block mb-1",children:a.clauseReference||"Key Clause"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:291,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-white/80 italic line-clamp-3",children:['"',a.keyClause,'"']},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:292,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:290,columnNumber:11},void 0),a.regulatoryFrameworks&&Array.isArray(a.regulatoryFrameworks)&&e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:a.regulatoryFrameworks.map((s,t)=>e.jsxDEV("span",{className:`text-xs px-2 py-0.5 rounded ${s.status==="compliant"?"bg-emerald-500/20 text-emerald-400":s.status==="partial"?"bg-amber-500/20 text-amber-400":"bg-rose-500/20 text-rose-400"}`,children:s.name},t,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:300,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:298,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:280,columnNumber:7},void 0):i.type==="decision"?e.jsxDEV("div",{className:"p-3 space-y-3 text-sm",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-white/60",children:"Owner"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:321,columnNumber:11},void 0),e.jsxDEV("span",{className:"font-medium text-cyan-400",children:a.owner||"N/A"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:322,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:320,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-white/60",children:"Status"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:325,columnNumber:11},void 0),e.jsxDEV("span",{className:`font-bold uppercase text-xs px-2 py-0.5 rounded ${a.status==="pending"?"bg-amber-500/20 text-amber-400":a.status==="approved"?"bg-emerald-500/20 text-emerald-400":a.status==="rejected"?"bg-rose-500/20 text-rose-400":"bg-purple-500/20 text-purple-400"}`,children:a.status||"Unknown"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:326,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:324,columnNumber:9},void 0),a.actions&&Array.isArray(a.actions)&&e.jsxDEV("div",{className:"space-y-1.5 mt-2 pt-2 border-t border-white/10",children:[e.jsxDEV("span",{className:"text-xs text-white/40 uppercase",children:"Required Actions"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:337,columnNumber:13},void 0),a.actions.slice(0,3).map((s,t)=>e.jsxDEV("div",{className:"flex items-start gap-2 text-xs",children:[e.jsxDEV("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${s.status==="completed"?"bg-emerald-500":s.status==="in_progress"?"bg-amber-500":"bg-white/20"}`,children:s.priority},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:340,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-white/70 line-clamp-2",children:s.description},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:347,columnNumber:17},void 0)]},t,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:339,columnNumber:15},void 0))]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:336,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:319,columnNumber:7},void 0):e.jsxDEV("div",{className:"p-3 h-full flex items-center justify-center text-white/40",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(ne,{className:"w-8 h-8 mx-auto mb-2 opacity-50"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:360,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-xs",children:"Widget content preview"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:361,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:359,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ClusterNodeCard.tsx",lineNumber:358,columnNumber:5},void 0)},Ve={causal:"#EF4444",regulatory:"#F59E0B",financial:"#3B82F6",operational:"#8B5CF6"},Ue=({connections:i,nodes:a,selectedConnectionId:s,hoveredConnectionId:t,onSelectConnection:o,zoom:c})=>{const h=N.useMemo(()=>i.map(d=>{const f=a.find(R=>R.id===d.sourceId),v=a.find(R=>R.id===d.targetId);if(!f||!v)return null;const n={x:f.position.x+f.size.width/2,y:f.position.y+f.size.height/2},p={x:v.position.x+v.size.width/2,y:v.position.y+v.size.height/2},D=z(f,p),r=z(v,n),m=(D.x+r.x)/2,C=(D.y+r.y)/2,x=r.x-D.x,u=r.y-D.y,g=Math.min(50,Math.sqrt(x*x+u*u)*.2),w=m+(u>0?g:-g),E=C+(x>0?-g:g),W=d.color||Ve[d.connectionType],j=d.id===s,T=d.id===t;return{...d,sourceEdge:D,targetEdge:r,controlX:w,controlY:E,midX:m,midY:C,color:W,isSelected:j,isHovered:T}}).filter(Boolean),[i,a,s,t]);return e.jsxDEV("svg",{className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%",overflow:"visible"},children:[e.jsxDEV("defs",{children:[e.jsxDEV("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:e.jsxDEV("polygon",{points:"0 0, 10 3.5, 0 7",fill:"currentColor"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:99,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:91,columnNumber:9},void 0),e.jsxDEV("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[e.jsxDEV("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:104,columnNumber:11},void 0),e.jsxDEV("feMerge",{children:[e.jsxDEV("feMergeNode",{in:"coloredBlur"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:106,columnNumber:13},void 0),e.jsxDEV("feMergeNode",{in:"SourceGraphic"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:107,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:105,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:103,columnNumber:9},void 0),e.jsxDEV("pattern",{id:"animated-dash",patternUnits:"userSpaceOnUse",width:"20",height:"1",children:e.jsxDEV("line",{x1:"0",y1:"0",x2:"10",y2:"0",stroke:"currentColor",strokeWidth:"2",children:[e.jsxDEV("animate",{attributeName:"x1",from:"0",to:"20",dur:"1s",repeatCount:"indefinite"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:114,columnNumber:13},void 0),e.jsxDEV("animate",{attributeName:"x2",from:"10",to:"30",dur:"1s",repeatCount:"indefinite"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:115,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:113,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:112,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:89,columnNumber:7},void 0),h.map(d=>{if(!d)return null;const f=d.isSelected?3:d.isHovered?2.5:2,v=d.isSelected||d.isHovered?1:.7;return e.jsxDEV("g",{className:"pointer-events-auto cursor-pointer",children:[e.jsxDEV("path",{d:`M ${d.sourceEdge.x} ${d.sourceEdge.y} Q ${d.controlX} ${d.controlY} ${d.targetEdge.x} ${d.targetEdge.y}`,fill:"none",stroke:"transparent",strokeWidth:20,onClick:()=>o(d.id)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV("path",{d:`M ${d.sourceEdge.x} ${d.sourceEdge.y} Q ${d.controlX} ${d.controlY} ${d.targetEdge.x} ${d.targetEdge.y}`,fill:"none",stroke:d.color,strokeWidth:f,strokeDasharray:d.style==="dashed"||d.style==="animated"?"8,4":"none",opacity:v,markerEnd:"url(#arrowhead)",style:{filter:d.isSelected?"url(#glow)":void 0,color:d.color},children:d.style==="animated"&&e.jsxDEV("animate",{attributeName:"stroke-dashoffset",from:"0",to:"24",dur:"1s",repeatCount:"indefinite"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:152,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:138,columnNumber:13},void 0),e.jsxDEV("g",{transform:`translate(${d.midX}, ${d.midY})`,children:[e.jsxDEV("rect",{x:-60,y:-12,width:120,height:24,rx:4,fill:"rgba(15, 23, 42, 0.9)",stroke:d.color,strokeWidth:1,opacity:d.isSelected||d.isHovered?1:.8},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:165,columnNumber:15},void 0),e.jsxDEV("text",{textAnchor:"middle",dominantBaseline:"middle",fontSize:10/c,fill:"white",className:"select-none",children:d.label.length>25?d.label.substring(0,22)+"...":d.label},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:177,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:163,columnNumber:13},void 0),(d.isSelected||d.isHovered)&&d.svpBudskab&&e.jsxDEV("g",{transform:`translate(${d.midX}, ${d.midY+30})`,children:[e.jsxDEV("rect",{x:-150,y:0,width:300,height:50,rx:6,fill:"rgba(15, 23, 42, 0.95)",stroke:d.color,strokeWidth:2},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:191,columnNumber:17},void 0),e.jsxDEV("text",{textAnchor:"middle",dominantBaseline:"middle",fontSize:11/c,fill:"#94A3B8",y:15,children:e.jsxDEV("tspan",{x:"0",dy:"0",children:"SVP Budskab:"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:208,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:201,columnNumber:17},void 0),e.jsxDEV("text",{textAnchor:"middle",dominantBaseline:"middle",fontSize:10/c,fill:"white",y:35,children:[d.svpBudskab.substring(0,60),"..."]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:210,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:190,columnNumber:15},void 0)]},d.id,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:127,columnNumber:11},void 0)})]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/ConnectionLines.tsx",lineNumber:85,columnNumber:5},void 0)};function z(i,a){const s=i.position.x+i.size.width/2,t=i.position.y+i.size.height/2,o=a.x-s,c=a.y-t,h=i.size.width/2,d=i.size.height/2,f=Math.abs(o)>0?h/Math.abs(o):1/0,v=Math.abs(c)>0?d/Math.abs(c):1/0,n=Math.min(f,v);return{x:s+o*n,y:t+c*n}}const k={critical:"#EF4444",high:"#F97316",medium:"#F59E0B",low:"#10B981"},Ie=({nodes:i,clusters:a,viewport:s,canvasSize:t,onNavigate:o})=>{const d=N.useMemo(()=>{if(i.length===0)return{minX:0,minY:0,maxX:2e3,maxY:1500};let r=1/0,m=1/0,C=-1/0,x=-1/0;i.forEach(g=>{r=Math.min(r,g.position.x),m=Math.min(m,g.position.y),C=Math.max(C,g.position.x+g.size.width),x=Math.max(x,g.position.y+g.size.height)});const u=100;return{minX:r-u,minY:m-u,maxX:C+u,maxY:x+u}},[i]),f=d.maxX-d.minX,v=d.maxY-d.minY,n=Math.min(200/f,140/v),p=N.useMemo(()=>{const r=t.width/s.zoom,m=t.height/s.zoom;return{x:(-s.pan.x/s.zoom-d.minX)*n,y:(-s.pan.y/s.zoom-d.minY)*n,width:r*n,height:m*n}},[s,t,d,n]),D=r=>{const m=r.currentTarget.getBoundingClientRect(),C=r.clientX-m.left,x=r.clientY-m.top,u=C/n+d.minX,g=x/n+d.minY;o({x:-u*s.zoom+t.width/2,y:-g*s.zoom+t.height/2})};return e.jsxDEV("div",{className:"absolute bottom-4 right-4 bg-slate-900/90 backdrop-blur-md rounded-xl border border-white/10 shadow-2xl overflow-hidden",children:[e.jsxDEV("div",{className:"px-3 py-1.5 border-b border-white/10 flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-xs font-medium text-white/70 uppercase tracking-wider",children:"Navigator"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:93,columnNumber:9},void 0),e.jsxDEV("span",{className:"text-[10px] text-white/40",children:[Math.round(s.zoom*100),"%"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:94,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:92,columnNumber:7},void 0),e.jsxDEV("svg",{width:200,height:140,className:"cursor-crosshair",onClick:D,children:[e.jsxDEV("rect",{width:"100%",height:"100%",fill:"#0F172A"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:107,columnNumber:9},void 0),e.jsxDEV("defs",{children:e.jsxDEV("pattern",{id:"minimap-grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:e.jsxDEV("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"rgba(255,255,255,0.05)",strokeWidth:"0.5"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:112,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:111,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:110,columnNumber:9},void 0),e.jsxDEV("rect",{width:"100%",height:"100%",fill:"url(#minimap-grid)"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:120,columnNumber:9},void 0),a.map(r=>{const m=i.filter(w=>r.nodes.includes(w.id));if(m.length===0)return e.jsxDEV("circle",{cx:(r.centerPosition.x-d.minX)*n,cy:(r.centerPosition.y-d.minY)*n,r:15,fill:k[r.severity],fillOpacity:.2,stroke:k[r.severity],strokeWidth:1,strokeOpacity:.5},r.id,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:128,columnNumber:15},void 0);let C=1/0,x=1/0,u=-1/0,g=-1/0;return m.forEach(w=>{C=Math.min(C,w.position.x),x=Math.min(x,w.position.y),u=Math.max(u,w.position.x+w.size.width),g=Math.max(g,w.position.y+w.size.height)}),e.jsxDEV("rect",{x:(C-d.minX-20)*n,y:(x-d.minY-20)*n,width:(u-C+40)*n,height:(g-x+40)*n,fill:k[r.severity],fillOpacity:.1,stroke:k[r.severity],strokeWidth:1,strokeOpacity:.3,rx:4},r.id,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:152,columnNumber:13},void 0)}),i.map(r=>{const m=(r.position.x-d.minX)*n,C=(r.position.y-d.minY)*n,x=r.size.width*n,u=r.size.height*n,g=k[r.severity||"medium"];return e.jsxDEV("rect",{x:m,y:C,width:Math.max(x,4),height:Math.max(u,3),fill:g,fillOpacity:r.collapsed?.3:.6,stroke:g,strokeWidth:.5,rx:1},r.id,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:177,columnNumber:13},void 0)}),e.jsxDEV("rect",{x:Math.max(0,p.x),y:Math.max(0,p.y),width:Math.min(p.width,200-p.x),height:Math.min(p.height,140-p.y),fill:"none",stroke:"#00B5CB",strokeWidth:2,rx:2,className:"pointer-events-none"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:193,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:100,columnNumber:7},void 0),e.jsxDEV("div",{className:"px-3 py-1.5 border-t border-white/10 flex items-center justify-between",children:[e.jsxDEV("span",{className:`text-[10px] px-2 py-0.5 rounded ${s.mode==="crisis"?"bg-rose-500/20 text-rose-400":"bg-cyan-500/20 text-cyan-400"}`,children:s.mode==="crisis"?"Crisis View":"Portfolio View"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:208,columnNumber:9},void 0),e.jsxDEV("span",{className:"text-[10px] text-white/40",children:[i.length," nodes"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:215,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:207,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/Minimap.tsx",lineNumber:90,columnNumber:5},void 0)},Fe=({widgetId:i})=>{const a=N.useRef(null),[s,t]=N.useState({width:1200,height:800}),[o,c]=N.useState(!1),[h,d]=N.useState({x:0,y:0}),[f,v]=N.useState(),n=he(),p=Ee(),D=Te(),r=We(),{setZoom:m,setPan:C,setViewportMode:x,resetViewport:u,moveNode:g,toggleNodeCollapse:w,selectNode:E,hoverNode:W,removeNode:j,selectConnection:T,focusCluster:R,togglePresentationMode:P,toggleMinimap:L,resetToDefault:B,selectedNodeId:X,selectedConnectionId:V,hoveredNodeId:$,presentationMode:I,showMinimap:M}=y();N.useEffect(()=>{const l=()=>{a.current&&t({width:a.current.offsetWidth,height:a.current.offsetHeight})};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const Y=N.useCallback(l=>{l.preventDefault();const b=l.deltaY>0?.9:1.1;m(n.zoom*b)},[n.zoom,m]),F=N.useCallback(l=>{var b;l.button===0&&l.target===((b=a.current)==null?void 0:b.firstChild)&&(c(!0),d({x:l.clientX-n.pan.x,y:l.clientY-n.pan.y}))},[n.pan]),O=N.useCallback(l=>{o&&C({x:l.clientX-h.x,y:l.clientY-h.y})},[o,h,C]),S=N.useCallback(()=>{c(!1)},[]),_=N.useCallback(l=>{var b;l.target===((b=a.current)==null?void 0:b.firstChild)&&(E(void 0),T(void 0))},[E,T]);N.useEffect(()=>{const l=b=>{b.key==="Escape"&&(E(void 0),T(void 0)),(b.key==="+"||b.key==="=")&&m(n.zoom*1.1),b.key==="-"&&m(n.zoom*.9),b.key==="0"&&u(),b.key==="p"&&b.ctrlKey&&(b.preventDefault(),P())};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[n.zoom,m,u,E,T,P]);const H=l=>{if(l)return Z[l]},G=l=>`${(l/1e6).toFixed(1)} mio`,U=De,K=()=>e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex items-center bg-white/5 rounded-lg p-0.5",children:[e.jsxDEV("button",{onClick:()=>x("portfolio"),className:`px-2 py-1 text-[10px] font-medium rounded transition-all ${n.mode==="portfolio"?"bg-cyan-500 text-white":"text-gray-400 hover:text-white"}`,children:"Portfolio"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:157,columnNumber:9},void 0),e.jsxDEV("button",{onClick:()=>x("crisis"),className:`px-2 py-1 text-[10px] font-medium rounded transition-all ${n.mode==="crisis"?"bg-rose-500 text-white":"text-gray-400 hover:text-white"}`,children:"Crisis"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:165,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:156,columnNumber:7},void 0),e.jsxDEV("button",{onClick:()=>m(n.zoom*.8),className:"p-1 hover:text-[#00B5CB] text-gray-400",children:e.jsxDEV(re,{size:14},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:175,columnNumber:111},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:175,columnNumber:7},void 0),e.jsxDEV("span",{className:"text-[10px] text-gray-500 w-8 text-center",children:[Math.round(n.zoom*100),"%"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:176,columnNumber:7},void 0),e.jsxDEV("button",{onClick:()=>m(n.zoom*1.25),className:"p-1 hover:text-[#00B5CB] text-gray-400",children:e.jsxDEV(oe,{size:14},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:177,columnNumber:112},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:177,columnNumber:7},void 0),e.jsxDEV("div",{className:"w-px h-4 bg-white/10 mx-1"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:179,columnNumber:7},void 0),e.jsxDEV("button",{onClick:L,className:`p-1 ${M?"text-[#00B5CB]":"text-gray-400"}`,children:e.jsxDEV(le,{size:14},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:181,columnNumber:109},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:181,columnNumber:7},void 0),e.jsxDEV("button",{onClick:P,className:"p-1 hover:text-[#00B5CB] text-gray-400",children:e.jsxDEV(ce,{size:14},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:182,columnNumber:99},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:182,columnNumber:7},void 0),e.jsxDEV("button",{onClick:B,className:"p-1 hover:text-[#00B5CB] text-gray-400",children:e.jsxDEV(ue,{size:14},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:183,columnNumber:91},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:183,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:154,columnNumber:5},void 0);return e.jsxDEV(Ce,{title:"Executive Risk Canvas",controls:e.jsxDEV(K,{},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:188,columnNumber:66},void 0),className:"relative",children:[!I&&e.jsxDEV("div",{className:"absolute top-2 left-2 z-10 flex gap-2",children:[e.jsxDEV("div",{className:"bg-black/60 backdrop-blur-md border border-rose-500/30 rounded-lg px-3 py-1.5 flex flex-col items-center min-w-[80px]",children:[e.jsxDEV("div",{className:"text-lg font-bold text-rose-400 leading-none",children:U.criticalIncidents},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:193,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-[9px] text-rose-500/70 uppercase font-bold tracking-wider",children:"Critical"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:194,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:192,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-black/60 backdrop-blur-md border border-cyan-500/30 rounded-lg px-3 py-1.5 flex flex-col items-center min-w-[80px]",children:[e.jsxDEV("div",{className:"text-lg font-bold text-cyan-400 leading-none",children:G(U.totalArrAtRisk)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:197,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-[9px] text-cyan-500/70 uppercase font-bold tracking-wider",children:"Risk ARR"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:198,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:196,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-black/60 backdrop-blur-md border border-emerald-500/30 rounded-lg px-3 py-1.5 flex flex-col items-center min-w-[80px]",children:[e.jsxDEV("div",{className:"text-lg font-bold text-emerald-400 leading-none",children:[U.complianceScore,"%"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:201,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-[9px] text-emerald-500/70 uppercase font-bold tracking-wider",children:"Compliance"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:202,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:200,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:191,columnNumber:9},void 0),e.jsxDEV("div",{ref:a,className:`w-full h-full relative overflow-hidden bg-[#050B14] ${o?"cursor-grabbing":"cursor-grab"}`,onWheel:Y,onMouseDown:F,onMouseMove:O,onMouseUp:S,onMouseLeave:S,onClick:_,children:[e.jsxDEV("div",{className:"absolute inset-0",style:{transform:`translate(${n.pan.x}px, ${n.pan.y}px) scale(${n.zoom})`,transformOrigin:"0 0"},children:[e.jsxDEV("div",{className:"absolute pointer-events-none",style:{left:-5e3,top:-5e3,width:1e4,height:1e4,backgroundImage:`
                linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px)
              `,backgroundSize:"50px 50px"}},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:227,columnNumber:11},void 0),e.jsxDEV(Ue,{connections:D,nodes:p,selectedConnectionId:V,hoveredConnectionId:f,onSelectConnection:T,zoom:n.zoom},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:243,columnNumber:11},void 0),p.map(l=>e.jsxDEV(Re,{node:l,isSelected:l.id===X,isHovered:l.id===$,zoom:n.zoom,onSelect:()=>E(l.id),onHover:b=>W(b?l.id:void 0),onMove:b=>g(l.id,b),onToggleCollapse:()=>w(l.id),onRemove:()=>j(l.id),widgetComponent:H(l.widgetType)},l.id,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:254,columnNumber:13},void 0))]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:219,columnNumber:9},void 0),M&&e.jsxDEV(Ie,{nodes:p,clusters:r,viewport:n,canvasSize:s,onNavigate:C},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:272,columnNumber:11},void 0),V&&e.jsxDEV(Me,{connectionId:V,connections:D,onClose:()=>T(void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:283,columnNumber:11},void 0),I&&e.jsxDEV("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-black/80 backdrop-blur-md rounded-full px-6 py-2 flex items-center gap-4 border border-white/10",children:[e.jsxDEV("span",{className:"text-white/60 text-xs uppercase tracking-widest",children:"Presentation Mode"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:293,columnNumber:13},void 0),e.jsxDEV("button",{onClick:P,className:"text-[#00B5CB] hover:text-white text-xs font-bold",children:"EXIT"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:294,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:292,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:208,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:188,columnNumber:5},void 0)},Me=({connectionId:i,connections:a,onClose:s})=>{const t=a.find(o=>o.id===i);return t?e.jsxDEV("div",{className:"absolute bottom-4 left-4 w-80 bg-black/90 backdrop-blur-md rounded-xl border border-white/10 shadow-2xl overflow-hidden z-20",children:[e.jsxDEV("div",{className:"px-4 py-2 border-b border-white/10 flex items-center justify-between bg-white/5",children:[e.jsxDEV("h3",{className:"text-xs font-bold text-white uppercase",children:"Connection Link"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:319,columnNumber:9},void 0),e.jsxDEV("button",{onClick:s,className:"text-white/40 hover:text-white text-lg",children:"×"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:320,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:318,columnNumber:7},void 0),e.jsxDEV("div",{className:"p-4 space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-[9px] text-gray-500 uppercase tracking-wider",children:"Label"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:324,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-sm text-white font-medium",children:t.label},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:325,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:323,columnNumber:9},void 0),t.svpBudskab&&e.jsxDEV("div",{className:"p-3 bg-cyan-500/10 rounded-lg border border-cyan-500/20",children:[e.jsxDEV("span",{className:"text-[9px] text-cyan-400 uppercase block mb-1 font-bold",children:"SVP Insight"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:329,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-cyan-100 italic",children:['"',t.svpBudskab,'"']},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:330,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:328,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 pt-2 border-t border-white/5",children:[e.jsxDEV("span",{className:`px-2 py-0.5 text-[9px] rounded uppercase font-bold ${t.connectionType==="causal"?"bg-rose-500/20 text-rose-400":t.connectionType==="regulatory"?"bg-amber-500/20 text-amber-400":t.connectionType==="financial"?"bg-blue-500/20 text-blue-400":"bg-purple-500/20 text-purple-400"}`,children:t.connectionType},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:334,columnNumber:11},void 0),e.jsxDEV("span",{className:"text-[10px] text-gray-500 uppercase",children:t.style},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:342,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:333,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:322,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/ExecutiveRiskCanvas/index.tsx",lineNumber:317,columnNumber:5},void 0):null};export{Fe as default};
