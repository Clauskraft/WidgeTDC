import{j as t}from"./index-DZEoTVC4.js";import{r as i}from"./ui-DyG0g13d.js";import{u as R}from"./useMCP-CI-td5l2.js";import"./vendor-Cv91Oj79.js";import"./graph-i8PIyU_l.js";import"./grid-BAREo1Ej.js";const k=()=>{const[m,x]=i.useState([]),[u,D]=i.useState([]),[c,w]=i.useState(""),[g,T]=i.useState(""),[p,j]=i.useState(""),[o,b]=i.useState("cma.context"),[C,h]=i.useState(JSON.stringify({orgId:"org-1",userId:"user-1",userQuery:"Test query",keywords:["test"]},null,2)),[W,a]=i.useState(""),N=i.useRef(null),{send:v,isLoading:l}=R();i.useEffect(()=>{(async()=>{try{const s=await fetch("/api/mcp/tools");if(!s.ok)throw new Error("Failed to load tools");const r=(await s.json()).tools||[];D(r),r.length>0&&b(n=>r.includes(n)?n:r[0])}catch(s){console.error("Failed to load tools:",s),a("Kunne ikke hente MCP værktøjer")}})()},[]),i.useEffect(()=>{var e;(e=N.current)==null||e.scrollIntoView({behavior:"smooth"})},[m]);const y=async()=>{a("");try{let e;try{e=JSON.parse(C)}catch{a("Payload skal være gyldig JSON");return}const s=o.split(".")[0],d=await v(s,o,e,{sourceId:"mcp-inspector"}),r={id:(d==null?void 0:d.messageId)??`msg-${Date.now()}`,sourceId:"mcp-inspector",targetId:s,tool:o,payload:e,createdAt:new Date().toISOString(),result:d==null?void 0:d.result,success:(d==null?void 0:d.success)??!0};x(n=>[...n,r])}catch(e){a(e.message||"Failed to send message")}},f=m.filter(e=>!(c&&e.tool!==c||g&&e.sourceId!==g||p&&e.targetId!==p));return t.jsxDEV("div",{style:{padding:"20px",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#1a1a1a",color:"#ffffff"},children:[t.jsxDEV("h2",{style:{margin:"0 0 20px 0",fontSize:"20px",fontWeight:"600"},children:"MCP Inspector"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:102,columnNumber:7},void 0),t.jsxDEV("div",{style:{marginBottom:"20px"},children:[t.jsxDEV("h3",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"10px"},children:["Available Tools (",u.length,")"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:108,columnNumber:9},void 0),t.jsxDEV("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:u.map(e=>t.jsxDEV("div",{style:{padding:"4px 12px",backgroundColor:"#2a2a2a",borderRadius:"12px",fontSize:"12px",border:"1px solid #444"},children:e},e,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:117,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:111,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:107,columnNumber:7},void 0),t.jsxDEV("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#2a2a2a",borderRadius:"4px"},children:[t.jsxDEV("h3",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"10px"},children:"Test Message"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:140,columnNumber:9},void 0),t.jsxDEV("div",{style:{marginBottom:"10px"},children:[t.jsxDEV("label",{style:{display:"block",marginBottom:"5px",fontSize:"12px"},children:"Tool"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:145,columnNumber:11},void 0),t.jsxDEV("select",{value:o,onChange:e=>b(e.target.value),style:{width:"100%",padding:"8px",backgroundColor:"#1a1a1a",border:"1px solid #444",borderRadius:"4px",color:"#ffffff",fontSize:"13px"},children:u.map(e=>t.jsxDEV("option",{value:e,children:e},e,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:162,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:148,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:144,columnNumber:9},void 0),t.jsxDEV("div",{style:{marginBottom:"10px"},children:[t.jsxDEV("label",{style:{display:"block",marginBottom:"5px",fontSize:"12px"},children:"Payload (JSON)"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:168,columnNumber:11},void 0),t.jsxDEV("textarea",{value:C,onChange:e=>h(e.target.value),style:{width:"100%",minHeight:"100px",padding:"8px",backgroundColor:"#1a1a1a",border:"1px solid #444",borderRadius:"4px",color:"#ffffff",fontSize:"12px",fontFamily:"monospace",resize:"vertical"}},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:171,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:167,columnNumber:9},void 0),t.jsxDEV("button",{onClick:y,disabled:l,style:{width:"100%",padding:"10px",backgroundColor:l?"#555":"#8b5cf6",color:"#ffffff",border:"none",borderRadius:"4px",fontSize:"13px",fontWeight:"600",cursor:l?"not-allowed":"pointer"},children:l?"Sending...":"Send Test Message"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:189,columnNumber:11},void 0),W&&t.jsxDEV("div",{style:{marginTop:"10px",padding:"8px",backgroundColor:"#ff3333",borderRadius:"4px",fontSize:"12px"},children:W},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:208,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:134,columnNumber:7},void 0),t.jsxDEV("div",{style:{marginBottom:"15px",display:"flex",gap:"10px"},children:[t.jsxDEV("input",{type:"text",placeholder:"Filter by tool...",value:c,onChange:e=>w(e.target.value),style:{flex:1,padding:"8px",backgroundColor:"#2a2a2a",border:"1px solid #444",borderRadius:"4px",color:"#ffffff",fontSize:"12px"}},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:226,columnNumber:9},void 0),t.jsxDEV("input",{type:"text",placeholder:"Filter by source...",value:g,onChange:e=>T(e.target.value),style:{flex:1,padding:"8px",backgroundColor:"#2a2a2a",border:"1px solid #444",borderRadius:"4px",color:"#ffffff",fontSize:"12px"}},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:241,columnNumber:9},void 0),t.jsxDEV("input",{type:"text",placeholder:"Filter by target...",value:p,onChange:e=>j(e.target.value),style:{flex:1,padding:"8px",backgroundColor:"#2a2a2a",border:"1px solid #444",borderRadius:"4px",color:"#ffffff",fontSize:"12px"}},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:256,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:221,columnNumber:7},void 0),t.jsxDEV("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[t.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[t.jsxDEV("h3",{style:{fontSize:"14px",fontWeight:"600",margin:0},children:["Message Stream (",f.length,")"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:281,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>x([]),style:{padding:"4px 12px",backgroundColor:"#dc2626",color:"#ffffff",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Clear"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:284,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:275,columnNumber:9},void 0),t.jsxDEV("div",{style:{flex:1,backgroundColor:"#2a2a2a",borderRadius:"4px",padding:"10px",overflowY:"auto"},children:[f.length===0?t.jsxDEV("div",{style:{color:"#888",fontSize:"13px",textAlign:"center",padding:"20px"},children:"No messages yet. Send a test message to see it here."},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:308,columnNumber:13},void 0):f.map(e=>t.jsxDEV("div",{style:{marginBottom:"10px",padding:"10px",backgroundColor:"#1a1a1a",borderRadius:"4px",borderLeft:`3px solid ${e.success?"#10b981":"#ef4444"}`},children:[t.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[t.jsxDEV("span",{style:{fontSize:"12px",fontWeight:"600",color:"#8b5cf6"},children:e.tool},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:328,columnNumber:19},void 0),t.jsxDEV("span",{style:{fontSize:"11px",color:"#888"},children:new Date(e.createdAt).toLocaleTimeString()},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:331,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:323,columnNumber:17},void 0),t.jsxDEV("div",{style:{fontSize:"11px",color:"#888",marginBottom:"5px"},children:[e.sourceId," → ",e.targetId]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:335,columnNumber:17},void 0),e.result&&t.jsxDEV("div",{style:{marginTop:"8px",fontSize:"11px",fontFamily:"monospace",backgroundColor:"#0a0a0a",padding:"8px",borderRadius:"4px",maxHeight:"150px",overflowY:"auto"},children:t.jsxDEV("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:JSON.stringify(e.result,null,2)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:349,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:339,columnNumber:19},void 0)]},e.id,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:313,columnNumber:15},void 0)),t.jsxDEV("div",{ref:N},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:357,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:300,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:274,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/McpRouterWidget.tsx",lineNumber:94,columnNumber:5},void 0)};export{k as default};
