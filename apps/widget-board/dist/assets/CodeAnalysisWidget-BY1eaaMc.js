import{j as e}from"./index-DZEoTVC4.js";import{r as l,d as m,k as p,l as x,C as D,T as g,F as W}from"./ui-DyG0g13d.js";import"./vendor-Cv91Oj79.js";import"./graph-i8PIyU_l.js";import"./grid-BAREo1Ej.js";const A=()=>{const[n,o]=l.useState(!1),[d,u]=l.useState(null),[a,c]=l.useState(null),b=async s=>{var t;const r=(t=s.target.files)==null?void 0:t[0];if(r){c(r),o(!0);try{const i=new FormData;i.append("file",r);const f=await(await fetch("/api/commands/sc/analyze",{method:"POST",body:i})).json();u(f)}catch(i){console.error("Analysis error:",i)}finally{o(!1)}}},C=s=>{switch(s){case"critical":return"bg-destructive/20 text-destructive border-destructive/50";case"high":return"bg-warning/20 text-warning border-warning/50";case"medium":return"bg-accent/20 text-accent-foreground border-accent/50";default:return"bg-primary/20 text-primary border-primary/50"}},N=s=>s>=80?"text-success":s>=60?"text-warning":"text-destructive";return e.jsxDEV("div",{className:"group flex flex-col h-full bg-card/5 backdrop-blur-sm rounded-lg border border-border/20 transition-all duration-300 hover:scale-[1.02] hover:-translate-y-1 shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-hero)] overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-border/20 bg-gradient-to-r from-destructive/5 to-warning/5",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"p-2 bg-destructive/20 rounded-lg animate-glow-pulse",children:e.jsxDEV(m,{className:"w-6 h-6",style:{color:"hsl(var(--destructive))"}},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:80,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:79,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-card-foreground",children:"Code Analysis"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:83,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Security â€¢ Quality â€¢ Performance"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:84,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:82,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:78,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:77,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6 bg-gradient-subtle",children:[!d&&e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-center animate-fade-in",children:[e.jsxDEV("div",{className:"p-6 bg-card/50 backdrop-blur-sm rounded-2xl border border-border/10 mb-6",children:[e.jsxDEV(p,{className:"w-16 h-16 mx-auto mb-4",style:{color:"hsl(var(--destructive))"}},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:94,columnNumber:15},void 0),e.jsxDEV("h4",{className:"text-xl font-semibold text-card-foreground mb-2",children:"Upload din kode for analyse"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:95,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-muted-foreground mb-6 max-w-md",children:"FÃ¥ Ã¸jeblikkelig feedback pÃ¥ sikkerhedsrisici, kodekvalitet og performance-problemer"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:98,columnNumber:15},void 0),e.jsxDEV("label",{className:"inline-flex items-center gap-2 btn-primary cursor-pointer",children:[e.jsxDEV(x,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:103,columnNumber:17},void 0),e.jsxDEV("span",{children:"VÃ¦lg fil eller mappe"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:104,columnNumber:17},void 0),e.jsxDEV("input",{type:"file",onChange:b,className:"hidden",accept:".js,.ts,.tsx,.jsx,.py,.java,.cs,.go",disabled:n},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:105,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:102,columnNumber:15},void 0),n&&e.jsxDEV("div",{className:"mt-4 flex items-center gap-2 text-muted-foreground animate-fade-in",children:[e.jsxDEV("div",{className:"w-4 h-4 border-2 border-t-transparent rounded-full animate-spin",style:{borderColor:"hsl(var(--destructive))"}},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:116,columnNumber:19},void 0),e.jsxDEV("span",{children:["Analyserer ",a==null?void 0:a.name,"..."]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:117,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:115,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:93,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-4 text-left",children:[e.jsxDEV("div",{className:"p-4 bg-destructive/10 backdrop-blur rounded-lg border border-destructive/20 transition-transform hover:scale-105",children:[e.jsxDEV(m,{className:"w-8 h-8 mb-2",style:{color:"hsl(var(--destructive))"}},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:124,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm font-semibold text-card-foreground",children:"Sikkerhed"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:125,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"SQL injection, XSS, CSRF"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:126,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:123,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 bg-success/10 backdrop-blur rounded-lg border border-success/20 transition-transform hover:scale-105",children:[e.jsxDEV(D,{className:"w-8 h-8 mb-2",style:{color:"hsl(var(--success))"}},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:129,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm font-semibold text-card-foreground",children:"Kvalitet"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:130,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Best practices, patterns"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:131,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:128,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 bg-warning/10 backdrop-blur rounded-lg border border-warning/20 transition-transform hover:scale-105",children:[e.jsxDEV(g,{className:"w-8 h-8 mb-2",style:{color:"hsl(var(--warning))"}},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:134,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm font-semibold text-card-foreground",children:"Performance"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:135,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Loops, memory leaks"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:136,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:133,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:122,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:92,columnNumber:11},void 0),d&&e.jsxDEV("div",{className:"space-y-6 animate-fade-in",children:[e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxDEV("div",{className:"p-4 bg-card/50 backdrop-blur-sm rounded-lg border border-border/20 text-center transition-transform hover:scale-105",children:[e.jsxDEV("div",{className:`text-3xl font-bold ${N(d.overallScore)}`,children:d.overallScore},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:147,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-sm text-muted-foreground mt-1",children:"Samlet Score"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:150,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:146,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 bg-destructive/10 backdrop-blur border border-destructive/30 rounded-lg text-center transition-transform hover:scale-105",children:[e.jsxDEV("div",{className:"text-3xl font-bold text-destructive",children:d.summary.criticalIssues},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:153,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-sm text-muted-foreground mt-1",children:"Critical"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:154,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:152,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 bg-warning/10 backdrop-blur border border-warning/30 rounded-lg text-center transition-transform hover:scale-105",children:[e.jsxDEV("div",{className:"text-3xl font-bold text-warning",children:d.summary.highIssues},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:157,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-sm text-muted-foreground mt-1",children:"High"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:158,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:156,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 bg-accent/10 backdrop-blur border border-accent/30 rounded-lg text-center transition-transform hover:scale-105",children:[e.jsxDEV("div",{className:"text-3xl font-bold text-accent-foreground",children:d.summary.mediumIssues},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:161,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-sm text-muted-foreground mt-1",children:"Medium"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:162,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:160,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 bg-primary/10 backdrop-blur border border-primary/30 rounded-lg text-center transition-transform hover:scale-105",children:[e.jsxDEV("div",{className:"text-3xl font-bold text-primary",children:d.summary.lowIssues},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:165,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-sm text-muted-foreground mt-1",children:"Low"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:166,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:164,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:145,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-lg font-semibold text-card-foreground mb-4",children:["Findings (",d.findings.length,")"]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:172,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-3",children:d.findings.map((s,r)=>e.jsxDEV("div",{className:`p-4 rounded-lg border backdrop-blur-sm transition-all hover:scale-[1.01] ${C(s.severity)}`,children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(g,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:183,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-semibold",children:s.category},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:184,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:182,columnNumber:23},void 0),e.jsxDEV("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase",children:s.severity},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:186,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:181,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-card-foreground mb-2",children:s.description},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:191,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-3",children:[e.jsxDEV(W,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:194,columnNumber:23},void 0),e.jsxDEV("span",{children:[s.file,":",s.line]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:195,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:193,columnNumber:21},void 0),e.jsxDEV("div",{className:"p-3 bg-success/10 backdrop-blur rounded border-l-4 border-success",children:[e.jsxDEV("p",{className:"text-sm font-semibold text-success mb-1",children:"ðŸ’¡ Remediation:"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:201,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm text-card-foreground",children:s.remediation},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:202,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:200,columnNumber:21},void 0)]},r,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:177,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:175,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:171,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("button",{onClick:()=>{u(null),c(null)},className:"btn-secondary",children:"Analyser ny fil"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:211,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{const s=JSON.stringify(d,null,2),r=new Blob([s],{type:"application/json"}),t=URL.createObjectURL(r),i=document.createElement("a");i.href=t,i.download=`analysis-${Date.now()}.json`,i.click()},className:"btn-primary",children:"Download rapport"},void 0,!1,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:220,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:210,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:143,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:90,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/claus/Projects/WidgeTDC/WidgeTDC/apps/widget-board/widgets/CodeAnalysisWidget.tsx",lineNumber:75,columnNumber:5},void 0)};export{A as CodeAnalysisWidget,A as default};
