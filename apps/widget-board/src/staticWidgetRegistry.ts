import { lazy } from 'react';

// Hardcoded registry to bypass import.meta.glob issues
// All widgets explicitly linked for guaranteed loading
export const staticWidgetRegistry: Record<string, any> = {
  // Core Widgets
  'ActivityStreamWidget': lazy(() => import('../widgets/ActivityStreamWidget')),
  'AgentBuilderWidget': lazy(() => import('../widgets/AgentBuilderWidget')),
  'AgentChatWidget': lazy(() => import('../widgets/AgentChatWidget')),
  'AgentStatusDashboardWidget': lazy(() => import('../widgets/AgentStatusDashboardWidget')),
  'AiPalWidget': lazy(() => import('../widgets/AiPalWidget')),
  'AudioTranscriberWidget': lazy(() => import('../widgets/AudioTranscriberWidget')),
  'CmaDecisionWidget': lazy(() => import('../widgets/CmaDecisionWidget')),
  'CodeAnalysisWidget': lazy(() => import('../widgets/CodeAnalysisWidget')),
  'CybersecurityOverwatchWidget': lazy(() => import('../widgets/CybersecurityOverwatchWidget')),
  'DarkWebMonitorWidget': lazy(() => import('../widgets/DarkWebMonitorWidget')),
  'EvolutionAgentWidget': lazy(() => import('../widgets/EvolutionAgentWidget')),
  'FeedIngestionWidget': lazy(() => import('../widgets/FeedIngestionWidget')),
  'ImageAnalyzerWidget': lazy(() => import('../widgets/ImageAnalyzerWidget')),
  'IntelligentNotesWidget': lazy(() => import('../widgets/IntelligentNotesWidget')),
  'KanbanWidget': lazy(() => import('../widgets/KanbanWidget')),
  'LiveConversationWidget': lazy(() => import('../widgets/LiveConversationWidget')),
  'LocalScanWidget': lazy(() => import('../widgets/LocalScanWidget')),
  'LocalWikiWidget': lazy(() => import('../widgets/LocalWikiWidget')),
  'MCPConnectorWidget': lazy(() => import('../widgets/MCPConnectorWidget')),
  'MCPEmailRAGWidget': lazy(() => import('../widgets/MCPEmailRAGWidget')),
  'McpRouterWidget': lazy(() => import('../widgets/McpRouterWidget')),
  'NetworkSpyWidget': lazy(() => import('../widgets/NetworkSpyWidget')),
  'NexusTerminalWidget': lazy(() => import('../widgets/NexusTerminalWidget')),
  'PerformanceMonitorWidget': lazy(() => import('../widgets/PerformanceMonitorWidget')),
  'PersonaCoordinatorWidget': lazy(() => import('../widgets/PersonaCoordinatorWidget')),
  'PersonalAgentWidget': lazy(() => import('../widgets/PersonalAgentWidget')),
  'PlatformModelGovernanceWidget': lazy(() => import('../widgets/PlatformModelGovernanceWidget')),
  'Phase1CFastTrackKanbanWidget': lazy(() => import('../widgets/Phase1CFastTrackKanbanWidget')),
  'ProcurementIntelligenceWidget': lazy(() => import('../widgets/ProcurementIntelligenceWidget')),
  'PromptLibraryWidget': lazy(() => import('../widgets/PromptLibraryWidget')),
  'SearchInterfaceWidget': lazy(() => import('../widgets/SearchInterfaceWidget')),
  'SragGovernanceWidget': lazy(() => import('../widgets/SragGovernanceWidget')),
  'StatusWidget': lazy(() => import('../widgets/StatusWidget')),
  'SystemMonitorWidget': lazy(() => import('../widgets/SystemMonitorWidget')),
  'SystemSettingsWidget': lazy(() => import('../widgets/SystemSettingsWidget')),
  'VideoAnalyzerWidget': lazy(() => import('../widgets/VideoAnalyzerWidget')),
  'VisualizerWidget': lazy(() => import('../widgets/VisualizerWidget')),
  'WidgetImporterWidget': lazy(() => import('../widgets/WidgetImporterWidget')),
  
  // Executive & Strategic Widgets
  'ExecutiveRiskCanvasWidget': lazy(() => import('../widgets/ExecutiveRiskCanvas')),
  'StrategicCockpitWidget': lazy(() => import('../widgets/StrategicCockpit')),
  'MindMapBuilderWidget': lazy(() => import('../widgets/MindMapBuilder')),
  'HansPedderMonitorWidget': lazy(() => import('../widgets/HansPedderMonitor')),
};

// Widget metadata for display with new 'type' field
export const widgetMetadata: Record<string, { name: string; description: string; category: string; type: 'app' | 'tool'; defaultLayout: { w: number; h: number } }> = {
  'ActivityStreamWidget': { name: 'Activity Stream', description: 'Real-time activity feed', category: 'monitoring', type: 'app', defaultLayout: { w: 6, h: 2 } },
  'AgentBuilderWidget': { name: 'Agent Builder', description: 'Build custom AI agents', category: 'agents', type: 'app', defaultLayout: { w: 6, h: 3 } },
  'AgentChatWidget': { name: 'Agent Chat', description: 'Chat with AI agents', category: 'communication', type: 'app', defaultLayout: { w: 4, h: 3 } },
  'AgentStatusDashboardWidget': { name: 'Agent Status', description: 'Agent status overview', category: 'agents', type: 'app', defaultLayout: { w: 8, h: 2 } },
  'AiPalWidget': { name: 'AI Pal', description: 'Personal AI assistant', category: 'ai', type: 'app', defaultLayout: { w: 4, h: 3 } },
  'AudioTranscriberWidget': { name: 'Audio Transcriber', description: 'Transcribe audio to text', category: 'media', type: 'tool', defaultLayout: { w: 6, h: 2 } },
  'CmaDecisionWidget': { name: 'CMA Decision', description: 'Decision analysis', category: 'analytics', type: 'app', defaultLayout: { w: 6, h: 2 } },
  'CodeAnalysisWidget': { name: 'Code Analysis', description: 'Analyze code quality', category: 'development', type: 'tool', defaultLayout: { w: 8, h: 3 } },
  'CybersecurityOverwatchWidget': { name: 'Cybersecurity Overwatch', description: 'Security monitoring', category: 'security', type: 'app', defaultLayout: { w: 8, h: 3 } },
  'DarkWebMonitorWidget': { name: 'Dark Web Monitor', description: 'Monitor dark web threats', category: 'security', type: 'app', defaultLayout: { w: 6, h: 3 } },
  'EvolutionAgentWidget': { name: 'Evolution Agent', description: 'Self-evolving AI', category: 'agents', type: 'app', defaultLayout: { w: 6, h: 2 } },
  'FeedIngestionWidget': { name: 'Feed Ingestion', description: 'Process data feeds', category: 'data', type: 'tool', defaultLayout: { w: 6, h: 2 } },
  'ImageAnalyzerWidget': { name: 'Image Analyzer', description: 'AI image analysis', category: 'media', type: 'tool', defaultLayout: { w: 6, h: 3 } },
  'IntelligentNotesWidget': { name: 'Intelligent Notes', description: 'Smart note-taking', category: 'productivity', type: 'app', defaultLayout: { w: 4, h: 3 } },
  'KanbanWidget': { name: 'Kanban Board', description: 'Task management', category: 'productivity', type: 'app', defaultLayout: { w: 12, h: 3 } },
  'LiveConversationWidget': { name: 'Live Conversation', description: 'Real-time chat', category: 'communication', type: 'app', defaultLayout: { w: 6, h: 3 } },
  'LocalScanWidget': { name: 'Local Scan', description: 'Scan local system', category: 'security', type: 'tool', defaultLayout: { w: 6, h: 2 } },
  'LocalWikiWidget': { name: 'Lokal Wiki', description: 'Lokal vidensbase og dokumentation', category: 'productivity', type: 'app', defaultLayout: { w: 8, h: 4 } },
  'MCPConnectorWidget': { name: 'MCP Connector', description: 'Connect to MCP', category: 'integration', type: 'tool', defaultLayout: { w: 4, h: 2 } },
  'MCPEmailRAGWidget': { name: 'MCP Email RAG', description: 'Email RAG processing', category: 'integration', type: 'tool', defaultLayout: { w: 6, h: 3 } },
  'McpRouterWidget': { name: 'MCP Router', description: 'Route MCP messages', category: 'integration', type: 'tool', defaultLayout: { w: 6, h: 2 } },
  'NetworkSpyWidget': { name: 'Network Spy', description: 'Monitor network', category: 'security', type: 'tool', defaultLayout: { w: 6, h: 2 } },
  'NexusTerminalWidget': { name: 'Nexus Terminal', description: 'AI-powered terminal', category: 'development', type: 'app', defaultLayout: { w: 12, h: 3 } },
  'PerformanceMonitorWidget': { name: 'Performance Monitor', description: 'System metrics', category: 'monitoring', type: 'tool', defaultLayout: { w: 6, h: 2 } },
  'PersonaCoordinatorWidget': { name: 'Persona Coordinator', description: 'Manage AI personas', category: 'agents', type: 'app', defaultLayout: { w: 6, h: 2 } },
  'PersonalAgentWidget': { name: 'Personal Agent', description: 'Your personal AI', category: 'agents', type: 'app', defaultLayout: { w: 4, h: 2 } },
  'Phase1CFastTrackKanbanWidget': { name: 'Fast Track Kanban', description: 'Project management', category: 'productivity', type: 'app', defaultLayout: { w: 12, h: 3 } },
  'PlatformModelGovernanceWidget': { name: 'AI Model Governance', description: 'Central styring af AI modeller, budgetter og policies', category: 'settings', type: 'app', defaultLayout: { w: 12, h: 4 } },
  'ProcurementIntelligenceWidget': { name: 'Procurement Intelligence', description: 'Procurement insights', category: 'analytics', type: 'app', defaultLayout: { w: 6, h: 2 } },
  'PromptLibraryWidget': { name: 'Prompt Library', description: 'Manage AI prompts', category: 'ai', type: 'app', defaultLayout: { w: 6, h: 3 } },
  'SearchInterfaceWidget': { name: 'Search Interface', description: 'Advanced search', category: 'productivity', type: 'tool', defaultLayout: { w: 8, h: 2 } },
  'SragGovernanceWidget': { name: 'SRAG Governance', description: 'Compliance monitoring', category: 'compliance', type: 'app', defaultLayout: { w: 6, h: 2 } },
  'StatusWidget': { name: 'Status', description: 'System status', category: 'monitoring', type: 'tool', defaultLayout: { w: 4, h: 1 } },
  'SystemMonitorWidget': { name: 'System Monitor', description: 'System monitoring', category: 'monitoring', type: 'tool', defaultLayout: { w: 6, h: 2 } },
  'SystemSettingsWidget': { name: 'System Settings', description: 'Configure settings', category: 'settings', type: 'app', defaultLayout: { w: 6, h: 3 } },
  'VideoAnalyzerWidget': { name: 'Video Analyzer', description: 'AI video analysis', category: 'media', type: 'tool', defaultLayout: { w: 8, h: 3 } },
  'VisualizerWidget': { name: 'Visualizer', description: 'System arkitektur og diagrammer', category: 'development', type: 'app', defaultLayout: { w: 12, h: 4 } },
  'WidgetImporterWidget': { name: 'Widget Importer', description: 'Import widgets', category: 'system', type: 'tool', defaultLayout: { w: 6, h: 2 } },
  
  // Executive & Strategic Widgets
  'ExecutiveRiskCanvasWidget': { 
    name: 'Executive Risk Canvas', 
    description: 'SVP-level Risk & P&L Control Surface med zoom/pan, forbindelseslinjer og argumentationskæder', 
    category: 'executive', 
    type: 'app', 
    defaultLayout: { w: 12, h: 6 } 
  },
  'StrategicCockpitWidget': { 
    name: 'Strategic Cockpit', 
    description: 'Glass, Neon & The Graph - AI Agent Council, Observation Cards, Neural Stream og Neo4j Mindmap', 
    category: 'executive', 
    type: 'app', 
    defaultLayout: { w: 12, h: 6 } 
  },
  'MindMapBuilderWidget': { 
    name: 'MindMap Builder', 
    description: 'Interaktiv mindmap - søg efter emner, AI udvider automatisk med relaterede nodes og tracking', 
    category: 'executive', 
    type: 'app', 
    defaultLayout: { w: 12, h: 6 } 
  },
  'HansPedderMonitorWidget': { 
    name: 'HansPedder Monitor', 
    description: 'Real-time monitoring af autonom agent - tests, health metrics og forbedringsnudges', 
    category: 'executive', 
    type: 'app', 
    defaultLayout: { w: 6, h: 4 } 
  },
};
