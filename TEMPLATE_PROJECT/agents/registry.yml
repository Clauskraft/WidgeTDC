# WidgetTDC Agent Registry
# Machine-readable specification for all agents in the orchestration cascade
# Validated against schema before execution

agents:
  - id: dashboard-shell-ui
    name: AlexaGPT-Frontend
    agent_type: frontend-architect
    block_number: 1
    story_points: 18

    description: "React dashboard shell with sidebar navigation"

    dependencies:
      blocks: []
      external_systems: []

    capabilities:
      - create_react_component
      - create_typescript_definitions
      - create_css_styling
      - export_index_file

    constraints:
      max_files: 10
      max_lines_per_file: 500
      allowed_file_types: [.tsx, .css, .ts, .index.ts]
      max_commit_message_length: 100

    github_app_permissions_required:
      - scope: contents
        permission: write
        reason: "Create component files and index exports"
      - scope: pull-requests
        permission: write
        reason: "Create pull requests"

    resources_required:
      npm_packages: [react, typescript, react-dom]
      disk_space_mb: 50
      execution_timeout_seconds: 300

    implementation:
      outputs:
        files_created:
          - src/components/Dashboard/Dashboard.tsx
          - src/components/Dashboard/Dashboard.css
          - src/components/Dashboard/index.ts
        branch: agent/block-1-dashboard-ui
        pr_title: "Block 1: Dashboard Shell UI Implementation"

    validation:
      pre_execution:
        - check: "React version >= 18"
          action: "warn"
        - check: "TypeScript compiler available"
          action: "fail"
      post_execution:
        - check: "All .tsx files have valid syntax"
          action: "fail"
        - check: "All imports resolvable"
          action: "warn"

  - id: widget-registry-v2
    name: GoogleCloudArch
    agent_type: backend-architect
    block_number: 2
    story_points: 42

    description: "Widget Registry 2.0 with versioning system"

    dependencies:
      blocks: [1]
      external_systems: []

    capabilities:
      - create_typescript_service
      - create_type_definitions
      - create_unit_tests
      - create_index_exports

    constraints:
      max_files: 15
      max_lines_per_file: 300
      allowed_file_types: [.ts, .test.ts]
      max_commit_message_length: 100

    github_app_permissions_required:
      - scope: contents
        permission: write
      - scope: pull-requests
        permission: write

    resources_required:
      npm_packages: [typescript, jest]
      disk_space_mb: 80
      execution_timeout_seconds: 300

    implementation:
      outputs:
        files_created:
          - src/services/registry/types.ts
          - src/services/registry/WidgetRegistry.ts
          - src/services/registry/index.ts
          - src/services/registry/__tests__/WidgetRegistry.test.ts
        branch: agent/block-2-widget-registry
        pr_title: "Block 2: Widget Registry 2.0 with Versioning"

  - id: audit-log-hash-chain
    name: CryptographyExpert
    agent_type: security-engineer
    block_number: 3
    story_points: 40

    description: "Audit log system with cryptographic hash chain for integrity"

    dependencies:
      blocks: [2]
      external_systems: []

    capabilities:
      - create_typescript_service
      - implement_cryptography
      - create_type_definitions
      - create_unit_tests

    constraints:
      max_files: 15
      max_lines_per_file: 400
      allowed_file_types: [.ts, .test.ts]
      max_commit_message_length: 100

    github_app_permissions_required:
      - scope: contents
        permission: write
      - scope: pull-requests
        permission: write

    resources_required:
      npm_packages: [typescript, jest, crypto]
      disk_space_mb: 100
      execution_timeout_seconds: 300

    implementation:
      outputs:
        files_created:
          - src/services/audit/types.ts
          - src/services/audit/AuditLog.ts
          - src/services/audit/index.ts
          - src/services/audit/__tests__/AuditLog.test.ts
        branch: agent/block-3-audit-log
        pr_title: "Block 3: Comprehensive Audit Log System"

  - id: database-foundation
    name: DatabaseMaster
    agent_type: backend-architect
    block_number: 4
    story_points: 50

    description: "Database foundation with Sequelize models and migrations"

    dependencies:
      blocks: [3]
      external_systems: []

    capabilities:
      - create_sequelize_models
      - create_sql_migrations
      - create_seed_data
      - create_database_config

    constraints:
      max_files: 20
      max_lines_per_file: 300
      allowed_file_types: [.js, .sql, .json]
      max_commit_message_length: 100

    github_app_permissions_required:
      - scope: contents
        permission: write
      - scope: pull-requests
        permission: write

    resources_required:
      npm_packages: [sequelize, postgres]
      disk_space_mb: 120
      execution_timeout_seconds: 300

    implementation:
      outputs:
        files_created:
          - database/models/User.js
          - database/models/Widget.js
          - database/migrations/001-create-users-table.sql
          - database/migrations/002-create-widgets-table.sql
          - database/config.js
          - database/seeds/001-demo-users.js
        branch: agent/block-4-database-foundation
        pr_title: "Block 4: DatabaseMaster - Database Models and Migrations"

  - id: testing-infrastructure
    name: QASpecialist
    agent_type: quality-engineer
    block_number: 5
    story_points: 32

    description: "End-to-end testing infrastructure and test suites"

    dependencies:
      blocks: [4]
      external_systems: []

    capabilities:
      - create_test_suite
      - create_e2e_tests
      - create_test_helpers
      - configure_test_runners

    constraints:
      max_files: 25
      max_lines_per_file: 200
      allowed_file_types: [.test.js, .spec.js, .config.js]
      max_commit_message_length: 100

    github_app_permissions_required:
      - scope: contents
        permission: write
      - scope: pull-requests
        permission: write

    resources_required:
      npm_packages: [jest, playwright, supertest]
      disk_space_mb: 150
      execution_timeout_seconds: 400

    implementation:
      outputs:
        files_created:
          - tests/integration/auth.test.js
          - tests/integration/widgets.test.js
          - tests/e2e/user-flow.spec.js
          - tests/helpers/test-utils.js
          - jest.config.js
        branch: agent/block-5-testing-infrastructure
        pr_title: "Block 5: QASpecialist - Testing Infrastructure"

  - id: security-compliance
    name: SecurityCompliance
    agent_type: security-engineer
    block_number: 6
    story_points: 28

    description: "Security compliance framework with middleware and policies"

    dependencies:
      blocks: [5]
      external_systems: []

    capabilities:
      - create_security_middleware
      - create_security_policies
      - create_rate_limiting
      - create_input_validation

    constraints:
      max_files: 20
      max_lines_per_file: 300
      allowed_file_types: [.js, .md, .json]
      max_commit_message_length: 100

    github_app_permissions_required:
      - scope: contents
        permission: write
      - scope: pull-requests
        permission: write

    resources_required:
      npm_packages: [helmet, express-rate-limit, csurf, sanitize-html]
      disk_space_mb: 100
      execution_timeout_seconds: 300

    implementation:
      outputs:
        files_created:
          - src/middleware/securityHeaders.js
          - src/middleware/rateLimiter.js
          - src/middleware/inputValidation.js
          - src/middleware/csrfProtection.js
          - security/scans/audit.js
          - security/policies/security-config.json
          - SECURITY.md
        branch: agent/block-6-security-compliance
        pr_title: "Block 6: SecurityCompliance - Security Scanning"

# Metadata
metadata:
  version: "1.0"
  cascade_id: "phase-1b"
  total_agents: 6
  total_story_points: 210
  created_at: "2025-11-17"
  last_updated: "2025-11-17"

# Validation configuration
validation:
  required_fields: [id, name, block_number, story_points, dependencies, capabilities]
  enforce_unique_ids: true
  enforce_unique_block_numbers: true
  enforce_sequential_dependencies: true
